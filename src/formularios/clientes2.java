
package formularios;

import java.awt.event.KeyEvent;
import java.net.URL;
import java.sql.SQLException;
import java.util.HashMap;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.JTextField;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JRResultSetDataSource;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.engine.util.JRLoader;
import net.sf.jasperreports.view.JasperViewer;
import programas.ver_conex;

/**
 *
 * @author Eduardo
 */
public class clientes2 extends javax.swing.JFrame {
    javax.swing.table.DefaultTableModel cursor;
     
    private Object bandera;

    /**
     * Creates new form clientes2
     */
    public clientes2() {
        initComponents();
        this.setLocationRelativeTo(null);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        txtci = new javax.swing.JTextField();
        ltelefono1 = new javax.swing.JLabel();
        lnombre = new javax.swing.JLabel();
        bborrar = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        grilla = new javax.swing.JTable();
        ldireccion = new javax.swing.JLabel();
        lruc = new javax.swing.JLabel();
        beditar = new javax.swing.JButton();
        lcodigo = new javax.swing.JLabel();
        bcancelar = new javax.swing.JButton();
        bgrabar = new javax.swing.JButton();
        txttelefono = new javax.swing.JTextField();
        lapellido = new javax.swing.JLabel();
        ltelefono = new javax.swing.JLabel();
        txtdireccion = new javax.swing.JTextField();
        txtciucod = new javax.swing.JTextField();
        bsalir = new javax.swing.JButton();
        nombre = new javax.swing.JTextField();
        txtcodigo = new javax.swing.JTextField();
        bnuevo = new javax.swing.JButton();
        apellido = new javax.swing.JTextField();
        txtciudescri = new javax.swing.JTextField();
        ltelefono2 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        txtemail = new javax.swing.JTextField();
        ldireccion1 = new javax.swing.JLabel();
        txtruc = new javax.swing.JTextField();
        ldireccion2 = new javax.swing.JLabel();
        txtemail1 = new javax.swing.JTextField();
        ldireccion3 = new javax.swing.JLabel();
        txtemail2 = new javax.swing.JTextField();
        ldescripcion1 = new javax.swing.JLabel();
        chkActivo = new javax.swing.JCheckBox();
        ldireccion4 = new javax.swing.JLabel();
        txtemail3 = new javax.swing.JTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        txtci.setEnabled(false);
        txtci.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtciActionPerformed(evt);
            }
        });

        ltelefono1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ltelefono1.setText("Cliente C.I:");

        lnombre.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lnombre.setText("Nombres :");

        bborrar.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        bborrar.setText("Borrar");
        bborrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bborrarActionPerformed(evt);
            }
        });

        grilla.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "CI", "Nombre", "Apellido", "Telefono"
            }
        ));
        jScrollPane1.setViewportView(grilla);

        ldireccion.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ldireccion.setText("Direccion :");

        lruc.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lruc.setText("Ruc :");

        beditar.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        beditar.setText("Editar");
        beditar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                beditarActionPerformed(evt);
            }
        });

        lcodigo.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lcodigo.setText("Codigo :");

        bcancelar.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        bcancelar.setText("Cancelar");
        bcancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bcancelarActionPerformed(evt);
            }
        });

        bgrabar.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        bgrabar.setText("Grabar");
        bgrabar.setEnabled(false);
        bgrabar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgrabarActionPerformed(evt);
            }
        });

        txttelefono.setEnabled(false);
        txttelefono.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txttelefonoActionPerformed(evt);
            }
        });

        lapellido.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        lapellido.setText("Apellidos :");

        ltelefono.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ltelefono.setText("Telefono :");

        txtdireccion.setEnabled(false);
        txtdireccion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtdireccionActionPerformed(evt);
            }
        });

        txtciucod.setEnabled(false);
        txtciucod.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtciucodActionPerformed(evt);
            }
        });
        txtciucod.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtciucodKeyPressed(evt);
            }
        });

        bsalir.setBackground(new java.awt.Color(255, 255, 255));
        bsalir.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        bsalir.setText("Salir");
        bsalir.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        bsalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bsalirActionPerformed(evt);
            }
        });

        nombre.setEnabled(false);
        nombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nombreActionPerformed(evt);
            }
        });
        nombre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                nombreKeyTyped(evt);
            }
        });

        txtcodigo.setEnabled(false);
        txtcodigo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtcodigoActionPerformed(evt);
            }
        });

        bnuevo.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        bnuevo.setText("Nuevo");
        bnuevo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bnuevoActionPerformed(evt);
            }
        });

        apellido.setEnabled(false);
        apellido.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                apellidoActionPerformed(evt);
            }
        });
        apellido.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                apellidoKeyTyped(evt);
            }
        });

        txtciudescri.setEnabled(false);
        txtciudescri.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtciudescriActionPerformed(evt);
            }
        });

        ltelefono2.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ltelefono2.setText("Ciudad cod :");

        jPanel1.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 36)); // NOI18N
        jLabel1.setText("Clientes");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(26, 26, 26)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 40, Short.MAX_VALUE)
                .addGap(20, 20, 20))
        );

        txtemail.setEnabled(false);
        txtemail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtemailActionPerformed(evt);
            }
        });

        ldireccion1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ldireccion1.setText("E-mail:");

        txtruc.setEnabled(false);
        txtruc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtrucActionPerformed(evt);
            }
        });
        txtruc.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtrucKeyTyped(evt);
            }
        });

        ldireccion2.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ldireccion2.setText("Linea Credito:");

        txtemail1.setEnabled(false);
        txtemail1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtemail1ActionPerformed(evt);
            }
        });

        ldireccion3.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ldireccion3.setText("Credito Disponible:");

        txtemail2.setEnabled(false);
        txtemail2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtemail2ActionPerformed(evt);
            }
        });

        ldescripcion1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ldescripcion1.setText("Estado:");

        chkActivo.setText("Activo");
        chkActivo.setEnabled(false);
        chkActivo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkActivoActionPerformed(evt);
            }
        });

        ldireccion4.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        ldireccion4.setText("Tipo Cliente:");

        txtemail3.setEnabled(false);
        txtemail3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtemail3ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(13, 13, 13)
                .addComponent(ldescripcion1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(chkActivo)
                .addGap(0, 0, Short.MAX_VALUE))
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 689, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(13, 13, 13)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addGroup(layout.createSequentialGroup()
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(lruc)
                                                .addComponent(ltelefono1))
                                            .addGap(18, 18, 18)
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(txtci, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addComponent(txtruc, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                        .addGroup(layout.createSequentialGroup()
                                            .addComponent(ltelefono2)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                            .addComponent(txtciucod, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                            .addComponent(txtciudescri, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(layout.createSequentialGroup()
                                            .addComponent(ltelefono)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(txttelefono, javax.swing.GroupLayout.PREFERRED_SIZE, 123, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addGap(70, 70, 70)))
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(ldireccion2)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(txtemail1, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(ldireccion3)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(txtemail2, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(lnombre)
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                            .addComponent(ldireccion1)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(txtemail, javax.swing.GroupLayout.PREFERRED_SIZE, 451, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                            .addComponent(ldireccion)
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(txtdireccion, javax.swing.GroupLayout.PREFERRED_SIZE, 423, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(lapellido)
                                                .addComponent(lcodigo))
                                            .addGap(24, 24, 24)
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                .addComponent(txtcodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addComponent(nombre, javax.swing.GroupLayout.PREFERRED_SIZE, 423, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addComponent(apellido, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 423, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                            .addGroup(layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(ldireccion4)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtemail3, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(beditar, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(bsalir, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(bnuevo, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(bcancelar, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(bgrabar, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(bborrar, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lcodigo)
                    .addComponent(txtcodigo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ltelefono1)
                    .addComponent(txtci, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(4, 4, 4)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtruc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lruc))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lnombre)
                            .addComponent(nombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(apellido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lapellido))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txttelefono, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ltelefono))
                        .addGap(6, 6, 6)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ltelefono2)
                            .addComponent(txtciudescri, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtciucod, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ldireccion)
                            .addComponent(txtdireccion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtemail, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ldireccion1))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ldireccion2)
                            .addComponent(txtemail1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ldireccion3)
                            .addComponent(txtemail2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 7, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtemail3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(ldireccion4)))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(bnuevo)
                        .addGap(13, 13, 13)
                        .addComponent(beditar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(bborrar)
                        .addGap(18, 18, 18)
                        .addComponent(bgrabar)
                        .addGap(18, 18, 18)
                        .addComponent(bcancelar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(bsalir)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(ldescripcion1)
                    .addComponent(chkActivo))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(15, 15, 15))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void txtciActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtciActionPerformed
        // TODO add your handling code here:
        //comparar();
        txtruc.setEnabled(true);
        txtruc.requestFocus();
    }//GEN-LAST:event_txtciActionPerformed

    private void bborrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bborrarActionPerformed
        // TODO) add your handling code here:
        bandera = "borrar";
        des_botones();
        txtcodigo.setEnabled(true);
        txtcodigo.requestFocus();
    }//GEN-LAST:event_bborrarActionPerformed

    private void beditarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_beditarActionPerformed
        // TODO add your handling code here:
        bandera = "editar";
        des_botones();
        txtcodigo.setEnabled(true);
        txtcodigo.requestFocus();
    }//GEN-LAST:event_beditarActionPerformed

    private void bcancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bcancelarActionPerformed
        hab_botones();
        des_text();
        borrar_text();
    }//GEN-LAST:event_bcancelarActionPerformed

    private void bgrabarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bgrabarActionPerformed
        // TODO add your handling code here:
        grabar();
        borrar_text();
        cargar_grilla();
    }//GEN-LAST:event_bgrabarActionPerformed

    private void txttelefonoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txttelefonoActionPerformed
        // TODO add your handling code here:
        txtdireccion.setEnabled(true);
        txtdireccion.requestFocus();
    }//GEN-LAST:event_txttelefonoActionPerformed

    private void txtdireccionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtdireccionActionPerformed
        // TODO add your handling code here:
        txtemail.setEnabled(true);
        txtemail.requestFocus();
    }//GEN-LAST:event_txtdireccionActionPerformed

    private void txtciucodActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtciucodActionPerformed
        // TODO add your handling code here:
        buscarciudad();
        txtci.setEnabled(true);
        txtci.requestFocus();
        
    }//GEN-LAST:event_txtciucodActionPerformed

    private void txtciucodKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtciucodKeyPressed
        // TODO add your handling code here:
        if (txtciucod.getText().equals("") && evt.getKeyChar() == KeyEvent.VK_ENTER)//no trae nada
        {
            JTextField[] tfParam = new JTextField[2];
            tfParam[0] = this.txtciucod;
            tfParam[1] = this.txtciudescri;

            VentanaBuscar buscador = new VentanaBuscar("select ciu_cod,ciu_descri from ciudad where ciu_descri like  ", new String[]{"CODIGO ciudad", "NOMBRE ciudad"}, 2, tfParam);
            buscador.setTitle("Buscar ciudad");
            buscador.setVisible(true);
        }
        //// TODO add your handling code here:

    }//GEN-LAST:event_txtciucodKeyPressed

    private void bsalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bsalirActionPerformed
        // TODO add your handling code here:
        salir();
    }//GEN-LAST:event_bsalirActionPerformed

    private void nombreKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_nombreKeyTyped
        // TODO add your handling code here:
        int letra = (int) evt.getKeyChar();
        if (letra > 47 && letra < 58) {
            evt.setKeyChar((char) KeyEvent.VK_CLEAR);
            getToolkit().beep();///el sonido del error
            evt.consume();////mantiene el pulsor al presionar espacio
            JOptionPane.showMessageDialog(null,"No puede Ingresar Numeros");
            nombre.requestFocus();
        }

        if (letra == 10) // enter
        {
            //transfiere el foco si presionas enter
            bgrabar.setEnabled(true);
            bgrabar.requestFocus();

        }
    }//GEN-LAST:event_nombreKeyTyped

    private void txtcodigoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtcodigoActionPerformed
        // TODO add your handling code here:
        buscar();
    }//GEN-LAST:event_txtcodigoActionPerformed

    private void bnuevoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bnuevoActionPerformed
        bandera = "agregar";
       // hab_text();
        des_botones();
        txtcodigo.requestFocus();
        gencod();
        txtciucod.setEnabled(true);
        txtciucod.requestFocus();
        txtcodigo.setEnabled(false);
    }//GEN-LAST:event_bnuevoActionPerformed

    private void apellidoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_apellidoKeyTyped
        // TODO add your handling code here:
        int letra = (int) evt.getKeyChar();
        if (letra > 47 && letra < 58) {
            evt.setKeyChar((char) KeyEvent.VK_CLEAR);
            getToolkit().beep();///el sonido del error
            evt.consume();////mantiene el pulsor al presionar espacio
            JOptionPane.showMessageDialog(null,"No puede Ingresar Numeros");
            apellido.requestFocus();
        }

        if (letra == 10) // enter
        {
            //transfiere el foco si presionas enter
            bgrabar.setEnabled(true);
            bgrabar.requestFocus();

        }
    }//GEN-LAST:event_apellidoKeyTyped

    private void txtciudescriActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtciudescriActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtciudescriActionPerformed

    private void txtemailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtemailActionPerformed
        // TODO add your handling code here:
        bgrabar.setEnabled(true);
    }//GEN-LAST:event_txtemailActionPerformed

    private void txtrucKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtrucKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txtrucKeyTyped

    private void txtrucActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtrucActionPerformed
        // TODO add your handling code here:
        nombre.setEnabled(true);
        nombre.requestFocus();
    }//GEN-LAST:event_txtrucActionPerformed

    private void nombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nombreActionPerformed
        // TODO add your handling code here:
        apellido.setEnabled(true);
        apellido.requestFocus();
    }//GEN-LAST:event_nombreActionPerformed

    private void apellidoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_apellidoActionPerformed
        // TODO add your handling code here:
        txttelefono.setEnabled(true);
        txttelefono.requestFocus();
    }//GEN-LAST:event_apellidoActionPerformed

    private void txtemail1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtemail1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtemail1ActionPerformed

    private void txtemail2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtemail2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtemail2ActionPerformed

    private void chkActivoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkActivoActionPerformed
        // TODO add your handling code here:
        if(chkActivo.isSelected()==true)
        {

            estado = 1;
        }
    }//GEN-LAST:event_chkActivoActionPerformed

    private void txtemail3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtemail3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtemail3ActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(clientes2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(clientes2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(clientes2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(clientes2.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new clientes2().setVisible(true);
            }
        });
    }
    public int estado =0;
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField apellido;
    private javax.swing.JButton bborrar;
    private javax.swing.JButton bcancelar;
    private javax.swing.JButton beditar;
    private javax.swing.JButton bgrabar;
    private javax.swing.JButton bnuevo;
    private javax.swing.JButton bsalir;
    private javax.swing.JCheckBox chkActivo;
    private javax.swing.JTable grilla;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lapellido;
    private javax.swing.JLabel lcodigo;
    private javax.swing.JLabel ldescripcion1;
    private javax.swing.JLabel ldireccion;
    private javax.swing.JLabel ldireccion1;
    private javax.swing.JLabel ldireccion2;
    private javax.swing.JLabel ldireccion3;
    private javax.swing.JLabel ldireccion4;
    private javax.swing.JLabel lnombre;
    private javax.swing.JLabel lruc;
    private javax.swing.JLabel ltelefono;
    private javax.swing.JLabel ltelefono1;
    private javax.swing.JLabel ltelefono2;
    private javax.swing.JTextField nombre;
    private javax.swing.JTextField txtci;
    private javax.swing.JTextField txtciucod;
    private javax.swing.JTextField txtciudescri;
    private javax.swing.JTextField txtcodigo;
    private javax.swing.JTextField txtdireccion;
    private javax.swing.JTextField txtemail;
    private javax.swing.JTextField txtemail1;
    private javax.swing.JTextField txtemail2;
    private javax.swing.JTextField txtemail3;
    private javax.swing.JTextField txtruc;
    private javax.swing.JTextField txttelefono;
    // End of variables declaration//GEN-END:variables
private void hab_text() // sirve para habilitar los textos
	 {

	txtcodigo.setEnabled (true);
	apellido.setEnabled (true);
	nombre.setEnabled (true);
	txtdireccion.setEnabled (true);
	txttelefono.setEnabled (true);
    txtruc.setEnabled(true);
    txtci.setEnabled(true);
    txtciucod.setEnabled(true);
    txtemail.setEnabled(true);
    txtciudescri.setEnabled(false);
	}

	 private void des_text()	// metodo para deshabilitar los textos
     {
        txtcodigo.setEnabled (false);
	apellido.setEnabled (false);
	nombre.setEnabled (false);
	txtdireccion.setEnabled (false);
	txttelefono.setEnabled (false);
    txtruc.setEnabled(false);
    txtci.setEnabled(false);
    txtciucod.setEnabled(false);
    txtemail.setEnabled(false);
    txtciudescri.setEnabled(false);
     }	
	
	 private void borrar_text()	//metodo para dejar en blanco el texto
     {
         txtcodigo.setText("");	
         apellido.setText("");
	 nombre.setText("");
	 txtdireccion.setText("");
	 txttelefono.setText("");
         txtruc.setText("");
         txtci.setText("");
         txtciucod.setText("");
         txtemail.setText("");
     }	

	
	  private void des_botones() //metodo para deshabilitar botones	
     {
         bnuevo.setEnabled(false);
	 bborrar.setEnabled(false);
         beditar.setEnabled(false);
         bgrabar.setEnabled(true);
         bsalir.setEnabled(false);
	 bcancelar.setEnabled(true);
     }	

     private void hab_botones()	// metodo para hab botones
     {
         bnuevo.setEnabled(true);
	 bborrar.setEnabled(true);
         beditar.setEnabled(true);
         bgrabar.setEnabled(false);
         bsalir.setEnabled(true);
	 bcancelar.setEnabled(false);
     }

 private void gencod()
    {
        try {
            //       Main.inicio = "no";
                   ver_conex conn = new ver_conex();
                   conn.sentencia = conn.conexion.createStatement();
                   conn.resultado = conn.sentencia.executeQuery("SELECT IFNULL(MAX(cli_cod),0)+ 1 AS xxx FROM cliente");
                   conn.resultado.next();
                  this.txtcodigo.setText(conn.resultado.getString("xxx"));
        } catch (SQLException ex) {
            Logger.getLogger(clientes2.class.getName()).log(Level.SEVERE, null, ex);
     //   } catch (SQLException ex)
        {
            Logger.getLogger(clientes2.class.getName()).log(Level.SEVERE, null, ex);
        }
        }
 }
 private void grabar()
    {
        try {
            ver_conex conn = new ver_conex();
            conn.sentencia = conn.conexion.createStatement();

            if(bandera.equals("agregar"))
             {
                // gencod();// sirve para que no se dupliquen los codigos y no de error cuando se trabaja en redes///////////////////////////////////         cli_cod,                  ciu_cod,               cli_ci,                cli_ruc,             cli_nom,              cli_ape,                     cli_dir,                   cli_tel,                   cli_mail              cli_est
               conn.sentencia.executeUpdate("INSERT INTO clientes(id,ci,ruc,nombres,apellidos,direccion,telefono,mail,linea_cred,cred_disp,tipo_cli,estado,ciu_cod) values("+txtcodigo.getText()+","+txtciucod.getText()+","+txtci.getText()+",'"+txtruc.getText()+"','"+nombre.getText()+"','"+apellido.getText()+"','"+txtdireccion.getText()+"','"+txttelefono.getText()+"','"+txtemail.getText()+"','ACTIVO')");
              cargar_grilla();
              this.bcancelar.doClick();
             }

            if(bandera.equals("editar"))
             {
             
                 conn.sentencia.executeUpdate
                         ("UPDATE cliente SET ciu_cod='"+txtciucod.getText()+"',cli_ci='"+txtci.getText()+"',cli_ruc='"+txtruc.getText()+"', cli_nom ='"+apellido.getText()+"',"
                         + "cli_ape='"+nombre.getText()+"',cli_tel='"+txttelefono.getText()+"',cli_dir='"+txtdireccion.getText()+"',cli_email='"+txtemail.getText()+"',"
                         + " WHERE cli_cod ="+txtcodigo.getText());
               cargar_grilla();
             }
             JOptionPane.showMessageDialog(null, "REGISTRO GRABADO","CONFIRMACION",JOptionPane.INFORMATION_MESSAGE);
          this.bcancelar.doClick();
        } catch (SQLException ex) {
            Logger.getLogger(clientes2.class.getName()).log(Level.SEVERE, null, ex);
        }
        }
        private void buscar()
                
    {
        try {
           // Main.inicio = "no";
            ver_conex conn = new ver_conex();
            conn.sentencia = conn.conexion.createStatement();
            conn.resultado = conn.sentencia.executeQuery
       ("SELECT * FROM cliente WHERE cli_cod = "+txtcodigo.getText());
            boolean encontro = conn.resultado.next();

            if(encontro == true)
            {
                apellido.setText(conn.resultado.getString("cli_nom"));
                nombre.setText(conn.resultado.getString("cli_ape"));
                txtdireccion.setText(conn.resultado.getString("cli_dir"));
                txttelefono.setText(conn.resultado.getString("cli_tel"));
                txtruc.setText(conn.resultado.getString("cli_ruc"));
                txtciucod.setText(conn.resultado.getString("ciu_cod"));
                txtemail.setText(conn.resultado.getString("cli_email"));
                txtci.setText(conn.resultado.getString("cli_ci"));

                if(bandera.equals("borrar"))
                {
                   int mensaje = JOptionPane.showConfirmDialog(this,"Deseas Borrar-->"+apellido.getText(),"Confirmar",JOptionPane.YES_NO_OPTION);
                     if(mensaje == JOptionPane.YES_OPTION)//si quiere borrar
                     {
                           conn.sentencia = conn.conexion.createStatement();
                           conn.sentencia.executeUpdate("delete from  cliente where  cli_cod = "+txtcodigo.getText());
                           JOptionPane.showMessageDialog(null, "El registro ha sido borrado satisfactoriamente.", "Aviso", JOptionPane.INFORMATION_MESSAGE);
                      cargar_grilla();
                     
                     }
                     else
                     {
                        JOptionPane.showMessageDialog(null, "Operacion Cancelada", "Aviso", JOptionPane.INFORMATION_MESSAGE);
                     }
                     this.bcancelar.doClick();




                }//fin de borrar


                 if(bandera.equals("editar"))
                 {
                     apellido.setEnabled(true);
                    // txtruc.requestFocus();
                     nombre.setEnabled(true);
                     txttelefono.setEnabled(true);
                     txtruc.setEnabled(true);
                     txtdireccion.setEnabled(true);
                  //    txtruc.setText(conn.resultado.getString("cli_ruc"));
                txtciucod.setEnabled(true);
                txtciucod.requestFocus();
                txtemail.setEnabled(encontro);
                txtci.setEnabled(true);
                 }//fin de editar

       // catch (SQLException ex) {
         //   Logger.getLogger(grupos.class.getName()).log(Level.SEVERE, null, ex);
        //}            else
            } else // no encontro
            {
              JOptionPane.showMessageDialog(null, "No existe un registro con este codigo!", "Atencion", JOptionPane.ERROR_MESSAGE);
            }

        } catch (SQLException ex) {
            Logger.getLogger(vehiculos.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
private void salir (){
     int respuesta = JOptionPane.showConfirmDialog
         (this,"DESEA SALIR","CONFIRMAR",JOptionPane.YES_NO_OPTION);
       if(respuesta == JOptionPane.YES_OPTION)
       {
	   dispose();

       }
 
}
// public void genreporte() //throws JRException, Exception
//    {
//        try //throws JRException, Exception
//        {
//            ver_conex conn = new ver_conex();    
//            conn.sentencia = conn.conexion.createStatement();
//            conn.resultado = conn.sentencia.executeQuery("SELECT * FROM cliente"); //OJO LE PASO LA SENTENCIA
//            JRResultSetDataSource jrRS = new JRResultSetDataSource(conn.resultado);
//
//            HashMap parameters = new HashMap();
//            URL urlMaestro = getClass().getClassLoader().getResource("reportes/clientes.jasper");
//
//            // Cargamos el reporte
//            JasperReport masterReport = null;
//            masterReport = (JasperReport) JRLoader.loadObject(urlMaestro);
//            JasperPrint masterPrint = null;
//            masterPrint = JasperFillManager.fillReport(masterReport, parameters, jrRS);
//            JasperViewer ventana = new JasperViewer(masterPrint, false);
//            ventana.setTitle("Vista Previa");
//            ventana.setVisible(true);
//
//        } catch (JRException ex) {
//            Logger.getLogger(clientes1.class.getName()).log(Level.SEVERE, null, ex);
//        } catch (SQLException ex) {
//            Logger.getLogger(clientes1.class.getName()).log(Level.SEVERE, null, ex);
//        }
//    }   
 
  private void cargar_grilla()
  {
      try
      {
           for (int i = grilla.getRowCount()-1; i>=0; i--)
            {
                cursor.removeRow(i);
            }
            ver_conex conn = new ver_conex();
            conn.sentencia = conn.conexion.createStatement();
            conn.resultado = conn.sentencia.executeQuery("SELECT * from cliente");
           
            while(conn.resultado.next())
            {
                Object[] datos = {conn.resultado.getString("cli_cod"),
                    conn.resultado.getString("cli_nom"),
                conn.resultado.getString("cli_ape"),
                conn.resultado.getString("cli_tel")};
                cursor.addRow(datos);  
            }

        } catch (SQLException ex) {
            Logger.getLogger(clientes2.class.getName()).log(Level.SEVERE, null, ex);
        }
  }
  private void comparar()
     {
            String texto;
            String ValidarDuplicados;
            texto = txtci.getText().trim();
            texto.toUpperCase();
            ValidarDuplicados="SELECT cli_ci as descripcion FROM cliente WHERE cli_ci='"+texto+"'";
            try
            {
            ver_conex conn = new ver_conex();
            conn.sentencia = conn.conexion.createStatement();
            conn.resultado = conn.sentencia.executeQuery(ValidarDuplicados);
                int Bandera = 0;
                
            if (conn.resultado.next() && Bandera != 2) /*Esta validacion se aplica cuand*/
            {
              JOptionPane.showMessageDialog(null, "El registro que intenta ingresar ya existe", "Atencion", JOptionPane.ERROR_MESSAGE);  
            txtci.setEnabled(true);
            bgrabar.setEnabled(false);
            txtci.requestFocus();
            }
                    else{
                    bgrabar.setEnabled(true);
                    bgrabar.requestFocus();
            }
        }
        catch(SQLException SqlError)
        {
        JOptionPane.showMessageDialog(null,"No se ejecuto la consulta verifique parametros. "+SqlError);
        }
     }
  private void buscarciudad()
    {
        try {
             ver_conex conn = new ver_conex();
            conn.sentencia = conn.conexion.createStatement();
            conn.resultado = conn.sentencia.executeQuery("SELECT * FROM ciudad WHERE ciu_cod = "+txtciucod.getText());
            boolean encontro = conn.resultado.next();

            if(encontro == true)
            {
                txtciudescri.setText(conn.resultado.getString("ciu_desc"));
            }
            else // no encontro
            {
              JOptionPane.showMessageDialog(null, "No existe un registro con este codigo!", "Atencion", JOptionPane.ERROR_MESSAGE);
            }

        } catch (SQLException ex) {
           // Logger.getLogger(grupos.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
  
}
