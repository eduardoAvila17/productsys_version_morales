/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * nota_remision.java
 *
 * Created on 13-dic-2015, 13:27:50
 */

package formularios;

import java.awt.event.KeyEvent;
import java.net.URL;
import java.sql.SQLException;
import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.HashMap;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.JTextField;
import javax.swing.table.DefaultTableModel;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JRResultSetDataSource;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.engine.JasperReport;
import net.sf.jasperreports.engine.util.JRLoader;
import net.sf.jasperreports.view.JasperViewer;
import programas.ver_conex;

/**
 *
 * @author CLAU LORE
 */
public class nota_remision extends javax.swing.JFrame {

    /** Creates new form nota_remision */
        ver_conex conn = new ver_conex();
    javax.swing.table.DefaultTableModel cursor;
    String operacion="";
    int c;
    public nota_remision() {
        initComponents();
      this.setLocationRelativeTo(null);
      t_cod_personal.setText(acceso.usucod);
      t_nombre.setText(acceso.usunom);
      t_cod_sucursal.setText(acceso.ususucur);
      t_sucursal.setText(acceso.sucurdescri);
              
//        t_cod_sucursal.setText(acceso.ususucur());//codigo de sucursal
//        t_sucursal.setText(acceso.sucnom()); // sucursal
//        t_cod_personal.setText(acceso.percod());//codigo usuario
//        t_nombre.setText(acceso.pernom());    //nombre de usuario
//        t_apellido.setText(acceso.perapell());  //apellido de usuario
        cursor = (javax.swing.table.DefaultTableModel)tabla.getModel();
        setResizable(false);


    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel6 = new javax.swing.JPanel();
        t_cod_personal = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        t_nombre = new javax.swing.JLabel();
        t_cod_sucursal = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        t_sucursal = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        t_ci_conductor = new javax.swing.JTextField();
        t_cod_conductor = new javax.swing.JTextField();
        t_conductor_nombre = new javax.swing.JTextField();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        t_conductor_apellido = new javax.swing.JTextField();
        jLabel24 = new javax.swing.JLabel();
        t_conductor_telefono = new javax.swing.JTextField();
        t_conductor_direccion = new javax.swing.JTextField();
        jLabel25 = new javax.swing.JLabel();
        jLabel43 = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        jLabel15 = new javax.swing.JLabel();
        t_nro_vehiculo = new javax.swing.JTextField();
        t_codigo_vehiculo = new javax.swing.JTextField();
        t_vehiculo_marca = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        jLabel26 = new javax.swing.JLabel();
        t_vehiculo_modelo = new javax.swing.JTextField();
        jLabel27 = new javax.swing.JLabel();
        t_vehiculo_chapa = new javax.swing.JTextField();
        t_vehiculo_chasis = new javax.swing.JTextField();
        jLabel33 = new javax.swing.JLabel();
        jLabel41 = new javax.swing.JLabel();
        jPanel7 = new javax.swing.JPanel();
        t_fecha_final = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        t_fecha_inicio = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        t_destino = new javax.swing.JTextField();
        t_hora_final = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        t_hora_inicio = new javax.swing.JTextField();
        jPanel3 = new javax.swing.JPanel();
        t_grupo = new javax.swing.JTextField();
        t_cod_producto = new javax.swing.JTextField();
        jLabel39 = new javax.swing.JLabel();
        t_producto = new javax.swing.JTextField();
        jLabel37 = new javax.swing.JLabel();
        jLabel42 = new javax.swing.JLabel();
        t_marca = new javax.swing.JTextField();
        jLabel35 = new javax.swing.JLabel();
        jLabel38 = new javax.swing.JLabel();
        t_cantidad = new javax.swing.JTextField();
        jLabel34 = new javax.swing.JLabel();
        t_tipo = new javax.swing.JTextField();
        t_cod_deposito = new javax.swing.JTextField();
        jLabel36 = new javax.swing.JLabel();
        t_deposito = new javax.swing.JTextField();
        t_presentacion = new javax.swing.JTextField();
        jLabel40 = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        b_anular = new javax.swing.JButton();
        b_salir = new javax.swing.JButton();
        b_grabar = new javax.swing.JButton();
        b_nuevo = new javax.swing.JButton();
        b_cancelar = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        tabla = new javax.swing.JTable();
        b_borrar_items = new javax.swing.JButton();
        jPanel9 = new javax.swing.JPanel();
        t_numero_factura = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        combo_motivo = new javax.swing.JComboBox();
        jLabel9 = new javax.swing.JLabel();
        t_numero_remision = new javax.swing.JTextField();
        t_fecha = new javax.swing.JTextField();
        jLabel30 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 1, true)));

        t_cod_personal.setEnabled(false);

        jLabel18.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel18.setText("FUNCIONARIO:");

        t_nombre.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        t_nombre.setText("NOMBRE");

        t_cod_sucursal.setEnabled(false);

        jLabel19.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel19.setText("SUCURSAL:");

        t_sucursal.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        t_sucursal.setText("NOMBRE");

        jLabel20.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel20.setText("Nota de Remision");

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel20, javax.swing.GroupLayout.PREFERRED_SIZE, 177, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel18)
                .addGap(18, 18, 18)
                .addComponent(t_cod_personal, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(29, 29, 29)
                .addComponent(t_nombre, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(144, 144, 144)
                .addComponent(jLabel19)
                .addGap(22, 22, 22)
                .addComponent(t_cod_sucursal, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(t_sucursal, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(13, Short.MAX_VALUE)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(t_nombre)
                    .addComponent(t_cod_sucursal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel19)
                    .addComponent(t_sucursal)
                    .addComponent(t_cod_personal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel18))
                .addContainerGap())
        );

        jPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true), "DATOS DEL CONDUCTOR", javax.swing.border.TitledBorder.RIGHT, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 11))); // NOI18N

        jLabel17.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel17.setText("CONDUCTOR:");

        t_ci_conductor.setEnabled(false);
        t_ci_conductor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_ci_conductorActionPerformed(evt);
            }
        });
        t_ci_conductor.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_ci_conductorKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_ci_conductorKeyTyped(evt);
            }
        });

        t_cod_conductor.setEnabled(false);

        t_conductor_nombre.setEnabled(false);
        t_conductor_nombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_conductor_nombreActionPerformed(evt);
            }
        });

        jLabel22.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel22.setText("NOMBRE:");

        jLabel23.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel23.setText("APELLIDO:");

        t_conductor_apellido.setEnabled(false);
        t_conductor_apellido.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_conductor_apellidoActionPerformed(evt);
            }
        });

        jLabel24.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel24.setText("TELEFONO:");

        t_conductor_telefono.setEnabled(false);
        t_conductor_telefono.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_conductor_telefonoActionPerformed(evt);
            }
        });

        t_conductor_direccion.setEnabled(false);
        t_conductor_direccion.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_conductor_direccionActionPerformed(evt);
            }
        });

        jLabel25.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel25.setText("DIRECCION:");

        jLabel43.setFont(new java.awt.Font("Tahoma", 3, 8)); // NOI18N
        jLabel43.setText("BUSCAR CON F12 ");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel43))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(23, 23, 23)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel25)
                                    .addComponent(jLabel24, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel23)
                                    .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(t_conductor_telefono)
                                    .addComponent(t_conductor_direccion)
                                    .addComponent(t_conductor_apellido)
                                    .addComponent(t_conductor_nombre)))
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(t_ci_conductor, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(t_cod_conductor, javax.swing.GroupLayout.PREFERRED_SIZE, 71, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addGap(25, 25, 25))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(t_ci_conductor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(t_cod_conductor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 8, Short.MAX_VALUE)
                .addComponent(jLabel43)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_conductor_nombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel22))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_conductor_apellido, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel23))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_conductor_direccion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel25))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_conductor_telefono, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel24))
                .addContainerGap())
        );

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true), "DATOS DEL VEHICULO", javax.swing.border.TitledBorder.RIGHT, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 11))); // NOI18N

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel15.setText("VEHICULO:");

        t_nro_vehiculo.setEnabled(false);
        t_nro_vehiculo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_nro_vehiculoActionPerformed(evt);
            }
        });
        t_nro_vehiculo.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_nro_vehiculoKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_nro_vehiculoKeyTyped(evt);
            }
        });

        t_codigo_vehiculo.setEnabled(false);

        t_vehiculo_marca.setEnabled(false);
        t_vehiculo_marca.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_vehiculo_marcaActionPerformed(evt);
            }
        });

        jLabel21.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel21.setText("MARCA:");

        jLabel26.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel26.setText("MODELO:");

        t_vehiculo_modelo.setEnabled(false);
        t_vehiculo_modelo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_vehiculo_modeloActionPerformed(evt);
            }
        });

        jLabel27.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel27.setText("CHAPA:");

        t_vehiculo_chapa.setEnabled(false);
        t_vehiculo_chapa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_vehiculo_chapaActionPerformed(evt);
            }
        });

        t_vehiculo_chasis.setEnabled(false);
        t_vehiculo_chasis.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_vehiculo_chasisActionPerformed(evt);
            }
        });

        jLabel33.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel33.setText("CHASIS:");

        jLabel41.setFont(new java.awt.Font("Tahoma", 3, 8)); // NOI18N
        jLabel41.setText("BUSCAR CON F12 ");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addGap(91, 91, 91)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel33, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel27, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel15, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel21, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel26, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(t_vehiculo_marca)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(t_nro_vehiculo, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(t_codigo_vehiculo, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(t_vehiculo_modelo, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(t_vehiculo_chapa, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(t_vehiculo_chasis, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(18, 18, 18)
                .addComponent(jLabel41)
                .addGap(56, 56, 56))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(t_nro_vehiculo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(t_codigo_vehiculo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel41))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(t_vehiculo_marca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(t_vehiculo_modelo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel15)
                        .addGap(12, 12, 12)
                        .addComponent(jLabel21))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(52, 52, 52)
                        .addComponent(jLabel26)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel27)
                    .addComponent(t_vehiculo_chapa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_vehiculo_chasis, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel33))
                .addContainerGap(23, Short.MAX_VALUE))
        );

        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true), "DESTINO - RUTA", javax.swing.border.TitledBorder.RIGHT, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 11))); // NOI18N

        t_fecha_final.setEnabled(false);
        t_fecha_final.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_fecha_finalActionPerformed(evt);
            }
        });

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel8.setText("FECHA FINAL:");

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel7.setText("FECHA INICIO:");

        t_fecha_inicio.setEnabled(false);
        t_fecha_inicio.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_fecha_inicioActionPerformed(evt);
            }
        });

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel10.setText("DESTINO-DIRECCION:");

        t_destino.setEnabled(false);
        t_destino.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_destinoActionPerformed(evt);
            }
        });
        t_destino.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_destinoKeyTyped(evt);
            }
        });

        t_hora_final.setEnabled(false);
        t_hora_final.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_hora_finalActionPerformed(evt);
            }
        });

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel11.setText("HORA FINAL:");

        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel12.setText("HORA INICIO:");

        t_hora_inicio.setEnabled(false);
        t_hora_inicio.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_hora_inicioActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel7)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel8)
                            .addComponent(jLabel12)
                            .addComponent(jLabel11)
                            .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(t_fecha_inicio, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE)
                            .addComponent(t_hora_final, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE)
                            .addComponent(t_hora_inicio, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE)
                            .addComponent(t_fecha_final, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE)
                            .addComponent(t_destino, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 167, Short.MAX_VALUE))))
                .addGap(28, 28, 28))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_destino, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel10))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(t_fecha_inicio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(13, 13, 13)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(t_fecha_final, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_hora_inicio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12))
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_hora_final, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel11))
                .addContainerGap(12, Short.MAX_VALUE))
        );

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true), "PRODUCTO", javax.swing.border.TitledBorder.RIGHT, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 11))); // NOI18N

        t_grupo.setEnabled(false);

        t_cod_producto.setEnabled(false);
        t_cod_producto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_cod_productoActionPerformed(evt);
            }
        });
        t_cod_producto.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_cod_productoKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_cod_productoKeyTyped(evt);
            }
        });

        jLabel39.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel39.setText("GRUPO:");

        t_producto.setEnabled(false);

        jLabel37.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel37.setText("MARCA:");

        jLabel42.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel42.setText("CANTIDAD:");

        t_marca.setEnabled(false);

        jLabel35.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel35.setText("TIPO:");

        jLabel38.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel38.setText("DEPOSITO:");

        t_cantidad.setEnabled(false);
        t_cantidad.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_cantidadActionPerformed(evt);
            }
        });
        t_cantidad.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_cantidadKeyTyped(evt);
            }
        });

        jLabel34.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel34.setText("PRODUCTO:");

        t_tipo.setEnabled(false);

        t_cod_deposito.setEnabled(false);
        t_cod_deposito.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_cod_depositoActionPerformed(evt);
            }
        });
        t_cod_deposito.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_cod_depositoKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_cod_depositoKeyTyped(evt);
            }
        });

        jLabel36.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel36.setText("PRESENTACION:");

        t_deposito.setEnabled(false);

        t_presentacion.setEnabled(false);

        jLabel40.setFont(new java.awt.Font("Tahoma", 3, 8)); // NOI18N
        jLabel40.setText("BUSCAR CON F12 ");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel35)
                    .addComponent(jLabel36)
                    .addComponent(jLabel34)
                    .addComponent(jLabel38))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addComponent(t_cod_producto, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(t_producto, javax.swing.GroupLayout.DEFAULT_SIZE, 86, Short.MAX_VALUE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(t_cod_deposito, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(t_deposito, javax.swing.GroupLayout.DEFAULT_SIZE, 97, Short.MAX_VALUE))
                    .addComponent(t_tipo, javax.swing.GroupLayout.DEFAULT_SIZE, 140, Short.MAX_VALUE)
                    .addComponent(t_presentacion, javax.swing.GroupLayout.DEFAULT_SIZE, 140, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel40)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jLabel37)
                        .addGap(17, 17, 17))
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabel39)
                        .addComponent(jLabel42)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(t_cantidad, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 124, Short.MAX_VALUE)
                    .addComponent(t_marca, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 124, Short.MAX_VALUE)
                    .addComponent(t_grupo, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 124, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_cod_producto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(t_producto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel34)
                    .addComponent(jLabel40))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(t_marca, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(t_tipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel35))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(t_presentacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel36)
                                    .addComponent(t_grupo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel39, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(t_cod_deposito, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(t_deposito, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel38))
                            .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(t_cantidad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel42))))
                    .addComponent(jLabel37, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(168, 168, 168))
        );

        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(255, 255, 255), 1, true), "", javax.swing.border.TitledBorder.LEFT, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 11))); // NOI18N

        b_anular.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        b_anular.setText("Anular");
        b_anular.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                b_anularActionPerformed(evt);
            }
        });

        b_salir.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        b_salir.setText("Salir");
        b_salir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                b_salirActionPerformed(evt);
            }
        });

        b_grabar.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        b_grabar.setText("Grabar");
        b_grabar.setEnabled(false);
        b_grabar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                b_grabarActionPerformed(evt);
            }
        });

        b_nuevo.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        b_nuevo.setText("Nuevo");
        b_nuevo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                b_nuevoActionPerformed(evt);
            }
        });

        b_cancelar.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        b_cancelar.setText("Cancelar");
        b_cancelar.setEnabled(false);
        b_cancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                b_cancelarActionPerformed(evt);
            }
        });

        tabla.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ITEMS", "CODIGO", "PRODUCTO", "TIPO PRODUCTO", "PRESENTACION", "MARCA", "GRUPO", "CANTIDAD", "DEPOSITO"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tabla.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tablaMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(tabla);

        b_borrar_items.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        b_borrar_items.setText("BORRAR ITEM");
        b_borrar_items.setEnabled(false);
        b_borrar_items.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                b_borrar_itemsActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 793, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(b_borrar_items, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(b_cancelar, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(b_nuevo, javax.swing.GroupLayout.DEFAULT_SIZE, 112, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(b_anular, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(b_grabar, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(b_salir, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addContainerGap(29, Short.MAX_VALUE)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(b_grabar)
                            .addComponent(b_nuevo))
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(b_anular))
                            .addGroup(jPanel8Layout.createSequentialGroup()
                                .addGap(19, 19, 19)
                                .addComponent(b_cancelar)))
                        .addGap(10, 10, 10)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(b_salir)
                            .addComponent(b_borrar_items))
                        .addGap(45, 45, 45))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );

        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 1, true), "DATOS DE COMPRAS", javax.swing.border.TitledBorder.RIGHT, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 11))); // NOI18N

        t_numero_factura.setEnabled(false);
        t_numero_factura.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_numero_facturaActionPerformed(evt);
            }
        });
        t_numero_factura.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_numero_facturaKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_numero_facturaKeyTyped(evt);
            }
        });

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel1.setText("NUMERO FACTURA:");

        jLabel31.setFont(new java.awt.Font("Tahoma", 3, 8)); // NOI18N
        jLabel31.setText("BUSCAR CON F12 ");

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                        .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(10, 10, 10)
                        .addComponent(t_numero_factura, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel31, javax.swing.GroupLayout.Alignment.TRAILING))
                .addContainerGap())
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addGap(49, 49, 49)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(t_numero_factura, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel31)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel32.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel32.setText("FECHA HOY:");

        jLabel16.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel16.setText("NUMERO:");

        combo_motivo.setEnabled(false);
        combo_motivo.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                combo_motivoMouseClicked(evt);
            }
        });
        combo_motivo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                combo_motivoActionPerformed(evt);
            }
        });
        combo_motivo.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                combo_motivoKeyPressed(evt);
            }
        });

        jLabel9.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel9.setText("MOTIVO:");

        t_numero_remision.setEnabled(false);
        t_numero_remision.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_numero_remisionActionPerformed(evt);
            }
        });
        t_numero_remision.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_numero_remisionKeyPressed(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_numero_remisionKeyTyped(evt);
            }
        });

        t_fecha.setEnabled(false);
        t_fecha.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                t_fechaActionPerformed(evt);
            }
        });
        t_fecha.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                t_fechaKeyTyped(evt);
            }
        });

        jLabel30.setFont(new java.awt.Font("Tahoma", 3, 8)); // NOI18N
        jLabel30.setText("BUSCAR CON F12 ");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(8, 8, 8)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel30)
                                    .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(23, 23, 23)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 52, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel16)
                                    .addComponent(jLabel32))
                                .addGap(23, 23, 23)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(combo_motivo, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(t_fecha)
                                    .addComponent(t_numero_remision, javax.swing.GroupLayout.PREFERRED_SIZE, 215, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabel30)
                        .addGap(11, 11, 11)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(t_numero_remision, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel16))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel32)
                            .addComponent(t_fecha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(combo_motivo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel9))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void t_ci_conductorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_ci_conductorActionPerformed
     
        buscar_conductor();
}//GEN-LAST:event_t_ci_conductorActionPerformed

    private void t_ci_conductorKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_ci_conductorKeyPressed


         if (t_ci_conductor.getText().equals("") &&evt.getKeyCode()==123) { // presiona F12
            JTextField[] tfParam = new JTextField[6];

            tfParam[0] = this.t_ci_conductor;
            tfParam[1] = this.t_cod_conductor;
            tfParam[2] = this.t_conductor_nombre;
            tfParam[3] = this.t_conductor_apellido;
            tfParam[4] = this.t_conductor_direccion;
            tfParam[5] = this.t_conductor_telefono;



            String sql = "SELECT func_ci,func_cod,func_nom,func_ape,func_dir,func_tel FROM funcionario WHERE func_ci like ";
            Buscador pp = new Buscador(sql , new String[]{"C.I", "CODIGO", "NOMBRE","APELLIDO", "DIRECCION","TELEFONO"}, 6, tfParam);
            pp.setTitle("Buscar Conductor");
            pp.setVisible(true);
        }  else if (evt.getKeyCode() ==KeyEvent.VK_ENTER  &&   t_ci_conductor.getText().equals("") ){

            JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);

            this.t_ci_conductor.setEnabled(true);
            this.t_ci_conductor.requestFocus();
        }






}//GEN-LAST:event_t_ci_conductorKeyPressed

    private void t_ci_conductorKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_ci_conductorKeyTyped
        //        // TODO add your handling code here:
        char caracter = evt.getKeyChar();
        if(((caracter < '0') ||
                (caracter > '9')) &&
                (caracter != evt.VK_BACK_SPACE)) {
            evt.consume();

        }
}//GEN-LAST:event_t_ci_conductorKeyTyped

    private void t_conductor_nombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_conductor_nombreActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_t_conductor_nombreActionPerformed

    private void t_conductor_apellidoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_conductor_apellidoActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_t_conductor_apellidoActionPerformed

    private void t_conductor_telefonoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_conductor_telefonoActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_t_conductor_telefonoActionPerformed

    private void t_conductor_direccionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_conductor_direccionActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_t_conductor_direccionActionPerformed

    private void t_nro_vehiculoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_nro_vehiculoActionPerformed
        // TODO add your handling code here:
        buscar_vehiculo();
}//GEN-LAST:event_t_nro_vehiculoActionPerformed

    private void t_nro_vehiculoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_nro_vehiculoKeyPressed
        if (t_nro_vehiculo.getText().equals("") &&evt.getKeyCode()==123)
        { // presiona F12
            JTextField[] tfParam = new JTextField[6];

            tfParam[0] = this.t_codigo_vehiculo;
            tfParam[1] = this.t_nro_vehiculo;
            tfParam[2] = this.t_vehiculo_marca;
            tfParam[3] = this.t_vehiculo_modelo;
            tfParam[4] = this.t_vehiculo_chapa;
            tfParam[5] = this.t_vehiculo_chasis;


            String sql = "SELECT v.vehi_cod,v.nro_vehi,ma.mar_desc,v.modelo,v.chapa,v.chasis  FROM vehiculo v, marcas ma WHERE ma.mar_cod=v.mar_cod AND ma.mar_tipo='para vehiculo' AND v.nro_vehi LIKE ";
            Buscador pp = new Buscador(sql , new String[]{"CODIGO", "NUMERO","MARCA","MODELO","CHAPA","CHASIS"},6, tfParam);
            pp.setTitle("Buscar Vehiculo");
            pp.setVisible(true);
        }
        else if (evt.getKeyCode() ==KeyEvent.VK_ENTER  &&   t_nro_vehiculo.getText().equals("") ){

          JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);

            this.t_nro_vehiculo.setEnabled(true);
            this.t_nro_vehiculo.requestFocus();
        }
}//GEN-LAST:event_t_nro_vehiculoKeyPressed

    private void t_nro_vehiculoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_nro_vehiculoKeyTyped
        // TODO add your handling code here:
        char caracter = evt.getKeyChar();
        if(((caracter < '0') ||
                (caracter > '9')) &&
                (caracter != evt.VK_BACK_SPACE)) {
            evt.consume();

        }
}//GEN-LAST:event_t_nro_vehiculoKeyTyped

    private void t_vehiculo_marcaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_vehiculo_marcaActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_t_vehiculo_marcaActionPerformed

    private void t_vehiculo_modeloActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_vehiculo_modeloActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_t_vehiculo_modeloActionPerformed

    private void t_vehiculo_chapaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_vehiculo_chapaActionPerformed

}//GEN-LAST:event_t_vehiculo_chapaActionPerformed

    private void t_fecha_finalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_fecha_finalActionPerformed

                     if(t_fecha_final.getText().equals("")||t_fecha_final.getText().trim().length()==0){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
        this.t_hora_inicio.setEnabled(false);
        this.t_fecha_final.setEnabled(true);
        this.t_fecha_final.requestFocus();
        } else{
        compararFechasConDate();
        }

}//GEN-LAST:event_t_fecha_finalActionPerformed

    private void t_fecha_inicioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_fecha_inicioActionPerformed

        if(t_fecha_inicio.getText().equals("")||t_fecha_inicio.getText().trim().length()==0){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
        this.t_fecha_final.setEnabled(false);
        this.t_fecha_inicio.setEnabled(true);
        this.t_fecha_inicio.requestFocus();





        } else{
//
//if(operacion.equals("nuevo")){
//
//         this.t_destino.setEnabled(false);
//        this.t_fecha_final.setEnabled(true);
//        this.t_fecha_final.requestFocus();
//        mostrar_fecha2();
//}
//if(operacion.equals("editar")){
//
//        this.t_destino.setEnabled(false);
//        this.t_fecha_final.setEnabled(true);
//        this.t_fecha_final.requestFocus();
//
//}
   this.t_destino.setEnabled(false);
        this.t_fecha_final.setEnabled(true);
        this.t_fecha_final.requestFocus();
        mostrar_fecha2();

     
        }
}//GEN-LAST:event_t_fecha_inicioActionPerformed

    private void t_destinoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_destinoActionPerformed

         if(t_destino.getText().equals("")||t_destino.getText().trim().length()==0){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
        this.t_fecha_inicio.setEnabled(false);
        this.t_destino.setEnabled(true);
        this.t_destino.requestFocus();
        } else{
        mostrar_fecha();
        combo_motivo.setEnabled(false);
        this.t_destino.setEnabled(false);
        this.t_fecha_inicio.setEnabled(true);
        this.t_fecha_inicio.requestFocus();
        }

}//GEN-LAST:event_t_destinoActionPerformed

    private void t_destinoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_destinoKeyTyped
        // TODO add your handling code here:
        int letra = (int) evt.getKeyChar();
        if (letra > 47 && letra < 58) {
            evt.setKeyChar((char) KeyEvent.VK_CLEAR);
            getToolkit().beep(); //el sonido del error
            evt.consume(); //mantiene el pulsor al presionar espacio
            JOptionPane.showMessageDialog(null,"NO PUEDES INGRESAR NUMEROS");
            t_destino.requestFocus();
        }
        if (letra == 10) //Enter
        {
            //transfiere el foco si presionas enter
            t_fecha_inicio.setEnabled(true);
            t_fecha_inicio.requestFocus();
        }
}//GEN-LAST:event_t_destinoKeyTyped

    private void t_hora_finalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_hora_finalActionPerformed

        if(t_hora_final.getText().equals("")||t_hora_final.getText().trim().length()==0){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
        this.t_ci_conductor.setEnabled(false);
        this.t_hora_final.setEnabled(true);
        this.t_hora_final.requestFocus();
        } else{
            comparar_hora();
        }
}//GEN-LAST:event_t_hora_finalActionPerformed

    private void t_hora_inicioActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_hora_inicioActionPerformed

            if(t_hora_inicio.getText().equals("")||t_hora_inicio.getText().trim().length()==0){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
        this.t_hora_final.setEnabled(false);
        this.t_hora_inicio.setEnabled(true);
        this.t_hora_inicio.requestFocus();
        } else{
            t_hora_final.setEnabled(true);
            t_hora_final.requestFocus();
            hora_final();
        }



}//GEN-LAST:event_t_hora_inicioActionPerformed

    private void b_nuevoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_b_nuevoActionPerformed
       operacion = "nuevo";
        gencodigo();
        des_botones();
        hab_text();

}//GEN-LAST:event_b_nuevoActionPerformed

    private void b_grabarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_b_grabarActionPerformed
     
        validarGrilla();
        limpiar_grilla();
        hab_botones();
        des_text();
        clear_text();
}//GEN-LAST:event_b_grabarActionPerformed

    private void b_cancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_b_cancelarActionPerformed
        // TODO add your handling code here:
        hab_botones();
        des_text();
        clear_text();
        limpiar_grilla();
}//GEN-LAST:event_b_cancelarActionPerformed

    private void b_salirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_b_salirActionPerformed
        // TODO add your handling code here:
        int mensaje = JOptionPane.showConfirmDialog(this, "DESEA SALIR?", "CONFIRMAR", JOptionPane.YES_NO_OPTION);
        if (mensaje == JOptionPane.YES_OPTION) {
            dispose();
        }
}//GEN-LAST:event_b_salirActionPerformed

    private void b_anularActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_b_anularActionPerformed
        // TODO add your handling code here:
        operacion="anular";
        des_botones();
        this.t_numero_remision.setEnabled(true);
        this.t_numero_remision.requestFocus();
}//GEN-LAST:event_b_anularActionPerformed

    private void t_numero_remisionActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_numero_remisionActionPerformed
buscar_nota_remision();
    }//GEN-LAST:event_t_numero_remisionActionPerformed

    private void t_numero_remisionKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_numero_remisionKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_t_numero_remisionKeyTyped

    private void t_numero_facturaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_numero_facturaActionPerformed
        buscar_detalle_factura();
}//GEN-LAST:event_t_numero_facturaActionPerformed

    private void t_numero_facturaKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_numero_facturaKeyPressed
        if (t_numero_factura.getText().equals("") &&evt.getKeyCode()==123) { // presiona F12
            JTextField[] tfParam = new JTextField[1];

            tfParam[0] = this.t_numero_factura;


            String sql = "SELECT rg_fac_cod,tipo_factu,fecha FROM cabecera_reg_fact  WHERE estado='pendiente' AND fecha like";
            Buscador pp = new Buscador(sql , new String[]{"NUMERO", "TIPO DE FACTURA","FECHA"},3, tfParam);
            pp.setTitle("Buscar Factura Compras");
            pp.setVisible(true);
        } else if (evt.getKeyCode() ==KeyEvent.VK_ENTER  &&   t_numero_factura.getText().equals("") ){

            JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);

            this.t_numero_factura.setEnabled(true);
            this.t_numero_factura.requestFocus();
}
}//GEN-LAST:event_t_numero_facturaKeyPressed

    private void t_numero_facturaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_numero_facturaKeyTyped
        char caracter = evt.getKeyChar();
        if(((caracter < '0') ||
                (caracter > '9')) &&
                (caracter != evt.VK_BACK_SPACE)) {
            evt.consume();
        }
}//GEN-LAST:event_t_numero_facturaKeyTyped

    private void combo_motivoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_combo_motivoActionPerformed



}//GEN-LAST:event_combo_motivoActionPerformed

    private void t_fechaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_fechaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_fechaActionPerformed

    private void t_fechaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_fechaKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_t_fechaKeyTyped

    private void t_vehiculo_chasisActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_vehiculo_chasisActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_t_vehiculo_chasisActionPerformed

    private void t_cod_productoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_cod_productoActionPerformed
        buscar_producto();
}//GEN-LAST:event_t_cod_productoActionPerformed

    private void t_cod_productoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_cod_productoKeyPressed
        if (t_cod_producto.getText().equals("") &&evt.getKeyCode()==123) { // presiona F12
            JTextField[] tfParam = new JTextField[6];

            tfParam[0] = this.t_cod_producto;
            tfParam[1] = this.t_producto;
            tfParam[2] = this.t_marca;
            tfParam[3] = this.t_presentacion;
            tfParam[4] = this.t_tipo;
            tfParam[5] = this.t_grupo;


            String sql = "SELECT p.prd_cod,p.prd_nom, ma.mar_desc, pe.presen_des,ti.tip_prd_dec,g.grup_descri FROM producto p, tipo_producto ti,marcas ma, presentacion pe,grupo g WHERE g.grup_cod=p.grup_cod AND ma.mar_cod=p.mar_cod AND p.presen_cod=pe.presen_cod AND ti.tip_prd_cod=p.tip_prd_cod AND p.prd_nom LIKE ";
            Buscador pp = new Buscador(sql , new String[]{"Codigo", "Descripcion","Marca","Presentacion","Tipo de Producto","Grupo"},6, tfParam);
            pp.setTitle("Buscar Productos");
            pp.setVisible(true);
        } else if (evt.getKeyCode() ==KeyEvent.VK_ENTER  &&   t_cod_producto.getText().equals("") ){

            JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);

            this.t_cod_producto.setEnabled(true);
            this.t_cod_producto.requestFocus();
        }
}//GEN-LAST:event_t_cod_productoKeyPressed

    private void t_cod_productoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_cod_productoKeyTyped
        char caracter = evt.getKeyChar();
        if(((caracter < '0') ||
                (caracter > '9')) &&
                (caracter != evt.VK_BACK_SPACE)) {
            evt.consume();
        }
}//GEN-LAST:event_t_cod_productoKeyTyped

    private void t_cantidadActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_cantidadActionPerformed
        try {
            String cant;
            cant = t_cantidad.getText();
            int multnum = 0;
            multnum = Integer.parseInt(cant);
            if (multnum <= 0) {
                JOptionPane.showMessageDialog(null, "TIENE QUE SER UN N POSITIVO Y UN NUMERO MAYOR A CERO");
                t_cantidad.requestFocus();
            } else {
                tirar_grilla();
            }
        } catch (Exception e) {
            getToolkit().beep();
        }
}//GEN-LAST:event_t_cantidadActionPerformed

    private void t_cantidadKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_cantidadKeyTyped
        char caracter = evt.getKeyChar();
        if(((caracter < '0') ||
                (caracter > '9')) &&
                (caracter != evt.VK_BACK_SPACE)) {
            evt.consume();
        }
}//GEN-LAST:event_t_cantidadKeyTyped

    private void t_cod_depositoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_t_cod_depositoActionPerformed
        buscar_deposito();
}//GEN-LAST:event_t_cod_depositoActionPerformed

    private void t_cod_depositoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_cod_depositoKeyPressed

        if (t_cod_deposito.getText().equals("") &&evt.getKeyCode()==123) { // presiona F12
            JTextField[] tfParam = new JTextField[2];

            tfParam[0] = this.t_cod_deposito;
            tfParam[1] = this.t_deposito;
            String sql = "SELECT depo_cod,depo_desc FROM deposito WHERE depo_desc LIKE  ";
            Buscador pp = new Buscador(sql , new String[]{"Codigo", "Descripcion"},2, tfParam);
            pp.setTitle("Buscar Deposito");
            pp.setVisible(true);
        } else if (evt.getKeyCode() ==KeyEvent.VK_ENTER  &&   t_cod_deposito.getText().equals("") ){

            JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);

            this.t_cod_deposito.setEnabled(true);
            this.t_cod_deposito.requestFocus();
        }
    }//GEN-LAST:event_t_cod_depositoKeyPressed

    private void t_cod_depositoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_cod_depositoKeyTyped
        char caracter = evt.getKeyChar();
        if(((caracter < '0') ||
                (caracter > '9')) &&
                (caracter != evt.VK_BACK_SPACE)) {
            evt.consume();

        }
}//GEN-LAST:event_t_cod_depositoKeyTyped

    private void tablaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tablaMouseClicked

        this.b_borrar_items.setEnabled(true);
}//GEN-LAST:event_tablaMouseClicked

    private void b_borrar_itemsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_b_borrar_itemsActionPerformed

        cursor.removeRow(tabla.getSelectedRow());
        this.b_borrar_items.setEnabled(false);
}//GEN-LAST:event_b_borrar_itemsActionPerformed

    private void combo_motivoMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_combo_motivoMouseClicked

    }//GEN-LAST:event_combo_motivoMouseClicked

    private void combo_motivoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_combo_motivoKeyPressed
                     if(this.combo_motivo.getSelectedItem().equals("seleccionar"))
 {
 JOptionPane.showMessageDialog(null,"DEBE SELECCIONAR UNA OPCION PARA SEGUIR","AVISO",JOptionPane.ERROR_MESSAGE);
  t_destino.setEnabled(false);
 }
 else{

 t_destino.setEnabled(true);
 t_destino.requestFocus();
 }
    }//GEN-LAST:event_combo_motivoKeyPressed

    private void t_numero_remisionKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_numero_remisionKeyPressed
       if (t_numero_remision.getText().equals("") &&evt.getKeyCode()==123) { // presiona F12
            JTextField[] tfParam = new JTextField[1];

            tfParam[0] = this.t_numero_remision;
            
            String sql = "SELECT r.cod_remi,r.fecha,r.fecha_entreg,r.fecha_salida,r.hora_inicio,r.hora_final,r.destino FROM nota_remision r WHERE r.estado='pendiente' AND r.fecha LIKE ";
            Buscador pp = new Buscador(sql , new String[]{"NUMERO", "HOY","FECHA_INICIO","FECHA_FINAL","HORA_INICIO","HORA_FINAL","DESTINO"},7, tfParam);
            pp.setTitle("Buscar Nota de Remision");
            pp.setVisible(true);
        } else if (evt.getKeyCode() ==KeyEvent.VK_ENTER  &&   t_numero_remision.getText().equals("") ){

            JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);

            this.t_numero_remision.setEnabled(true);
            this.t_numero_remision.requestFocus();
    }

    }//GEN-LAST:event_t_numero_remisionKeyPressed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new nota_remision().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton b_anular;
    private javax.swing.JButton b_borrar_items;
    private javax.swing.JButton b_cancelar;
    private javax.swing.JButton b_grabar;
    private javax.swing.JButton b_nuevo;
    private javax.swing.JButton b_salir;
    private javax.swing.JComboBox combo_motivo;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTextField t_cantidad;
    private javax.swing.JTextField t_ci_conductor;
    private javax.swing.JTextField t_cod_conductor;
    private javax.swing.JTextField t_cod_deposito;
    private javax.swing.JTextField t_cod_personal;
    private javax.swing.JTextField t_cod_producto;
    private javax.swing.JTextField t_cod_sucursal;
    private javax.swing.JTextField t_codigo_vehiculo;
    private javax.swing.JTextField t_conductor_apellido;
    private javax.swing.JTextField t_conductor_direccion;
    private javax.swing.JTextField t_conductor_nombre;
    private javax.swing.JTextField t_conductor_telefono;
    private javax.swing.JTextField t_deposito;
    private javax.swing.JTextField t_destino;
    private javax.swing.JTextField t_fecha;
    private javax.swing.JTextField t_fecha_final;
    private javax.swing.JTextField t_fecha_inicio;
    private javax.swing.JTextField t_grupo;
    private javax.swing.JTextField t_hora_final;
    private javax.swing.JTextField t_hora_inicio;
    private javax.swing.JTextField t_marca;
    private javax.swing.JLabel t_nombre;
    private javax.swing.JTextField t_nro_vehiculo;
    private javax.swing.JTextField t_numero_factura;
    private javax.swing.JTextField t_numero_remision;
    private javax.swing.JTextField t_presentacion;
    private javax.swing.JTextField t_producto;
    private javax.swing.JLabel t_sucursal;
    private javax.swing.JTextField t_tipo;
    private javax.swing.JTextField t_vehiculo_chapa;
    private javax.swing.JTextField t_vehiculo_chasis;
    private javax.swing.JTextField t_vehiculo_marca;
    private javax.swing.JTextField t_vehiculo_modelo;
    private javax.swing.JTable tabla;
    // End of variables declaration//GEN-END:variables
private void hab_botones()
   {
      this.b_nuevo.setEnabled(true);
      this.b_anular.setEnabled(true);
      this.b_salir.setEnabled(true);
      this.b_cancelar.setEnabled(false);
      this.b_grabar.setEnabled(false);
//      this.b_editar.setEnabled(true);

   }
  private void des_text()
   {
     this.t_numero_remision.setEnabled(false);
     this.t_fecha.setEnabled(false);
     this.t_fecha_inicio.setEnabled(false);
     this.t_fecha_final.setEnabled(false);
     this.t_hora_inicio.setEnabled(false);
     this.t_hora_final.setEnabled(false);
     this.combo_motivo.setEnabled(false);
     this.t_ci_conductor.setEnabled(false);
     this.t_nro_vehiculo.setEnabled(false);
     this.t_destino.setEnabled(false);
     this.t_cod_producto.setEnabled(false);
     this.t_producto.setEnabled(false);
     this.t_marca.setEnabled(false);
     this.t_tipo.setEnabled(false);
     this.t_presentacion.setEnabled(false);
     this.t_numero_factura.setEnabled(false);
     this.t_cantidad.setEnabled(false);
     this.t_grupo.setEnabled(false);
     this.t_cod_deposito.setEnabled(false);
   }

    private void clear_text()
   {
       this.t_numero_remision.setText("");
       this.t_fecha_inicio.setText("");
       this.t_fecha_final.setText("");
       this.t_hora_final.setText("");
       this.t_hora_inicio.setText("");
       this.t_fecha.setText("");
       this.t_cantidad.setText("");
       this.t_cod_producto.setText("");
       this.t_producto.setText("");
       this.t_tipo.setText("");
       this.t_marca.setText("");
       this.t_presentacion.setText("");
       this.t_grupo.setText("");
       this.t_ci_conductor.setText("");
       this.t_cod_conductor.setText("");
       this.t_conductor_nombre.setText("");
       this.t_conductor_apellido.setText("");
       this.t_conductor_direccion.setText("");
       this.t_conductor_telefono.setText("");
       this.t_numero_factura.setText("");
       this.t_cod_deposito.setText("");
       this.t_deposito.setText("");

       this.t_codigo_vehiculo.setText("");
       this.t_nro_vehiculo.setText("");
       this.t_vehiculo_marca.setText("");
       this.t_vehiculo_modelo.setText("");
       this.t_vehiculo_chapa.setText("");
       this.t_vehiculo_chasis.setText("");
       this.t_destino.setText("");

       this.combo_motivo.removeAllItems();
limpiar_grilla();
     

   }
  private void limpiar_grilla()
   {
   DefaultTableModel dt;
   dt = (DefaultTableModel) tabla.getModel();
   while (tabla.getRowCount() > 0) {
   cursor.removeRow(0);
   }
   }

private void des_botones()
   {
      this.b_nuevo.setEnabled(false);
      this.b_anular.setEnabled(false);
//      this.b_editar.setEnabled(false);
      this.b_salir.setEnabled(false);
      this.b_cancelar.setEnabled(true);
      this.b_grabar.setEnabled(false);

   }
  private void hab_text()
   {
      this.combo_motivo.setEnabled(true);
      this.combo_motivo.requestFocus();

      traer_motivo();
      mostrar_fecha3();
   }

     private void gencodigo(){
   try {
    conn.sentencia = conn.conexion.createStatement();
    conn.resultado = conn.sentencia.executeQuery("SELECT IFNULL(MAX(cod_remi),0)+1 AS newcod FROM nota_remision");
    conn.resultado.next();
    t_numero_remision.setText(conn.resultado.getString("newcod"));
         } catch (SQLException ex) {
            Logger.getLogger(nota_remision.class.getName()).log(Level.SEVERE, null, ex);
         }
         }

private void traer_motivo()
{
try
{
  ver_conex c=new ver_conex();
   c.sentencia= c.conexion.createStatement();
   c.resultado=c.sentencia.executeQuery("SELECT CONCAT(CONCAT(mot_cod,'-'),mot_desc)  AS a FROM motivos WHERE mot_tipo='por nota remision' ORDER BY mot_cod");
   combo_motivo.removeAllItems();
   combo_motivo.addItem("seleccionar");
   while(c.resultado.next()==true)
 {

 combo_motivo.addItem(c.resultado.getString("a"));
 }
 }
 catch(Exception e)
 {
 }
 }

//private void rellenar()
//{
//
// combo_motivo.addItem("seleccionar");
//
// }

 
private void compararFechasConDate() {

  try {
   /**Obtenemos las fechas enviadas en el formato a comparar*/
   SimpleDateFormat formateador = new SimpleDateFormat("dd-MM-yyyy");
   String fechaDate1=t_fecha_inicio.getText();
   String fechaDate2=t_fecha_final.getText();
   Date fechainicio = formateador.parse(fechaDate1);
   Date fechafinal = formateador.parse(fechaDate2);

if ( fechainicio.before(fechafinal) ){

this.t_hora_inicio.setEnabled(true);
this.t_hora_inicio.requestFocus();
this.t_fecha_inicio.setEnabled(false);
this.t_fecha_final.setEnabled(false);
  hora_inicio();
}
else{
if ( fechafinal.before(fechainicio) ){ //antes

    JOptionPane.showMessageDialog(null, "La Fecha final no puede ser menor a la fecha de inicio");
    this.t_fecha_final.setEnabled(true);
    this.t_fecha_final.requestFocus();

}
else{

this.t_hora_inicio.setEnabled(true);
this.t_hora_inicio.requestFocus();
this.t_fecha_inicio.setEnabled(false);
this.t_fecha_final.setEnabled(false);
  hora_inicio();
}
}
} catch (ParseException e) {
}
}

private void mostrar_fecha() {
        try {
        ver_conex c=new ver_conex();
        c.sentencia=c.conexion.createStatement();
        c.resultado=c.sentencia.executeQuery("select date_format(current_date(),'%d-%m-%Y') as fecha");
        while (c.resultado.next()) {
        t_fecha_inicio.setText(c.resultado.getString("fecha"));
            }
            } catch (Exception ex) {
            javax.swing.JOptionPane.showMessageDialog(null, ex.getMessage());
            }
            }
private void mostrar_fecha2() {
        try {
        ver_conex c=new ver_conex();
        c.sentencia=c.conexion.createStatement();
        c.resultado=c.sentencia.executeQuery("select date_format(current_date(),'%d-%m-%Y') as fecha");
        while (c.resultado.next()) {
        t_fecha_final.setText(c.resultado.getString("fecha"));
            }
            } catch (Exception ex) {
            javax.swing.JOptionPane.showMessageDialog(null, ex.getMessage());
            }
            }
private void mostrar_fecha3() {
        try {
        ver_conex c=new ver_conex();
        c.sentencia=c.conexion.createStatement();
        c.resultado=c.sentencia.executeQuery("select date_format(current_date(),'%d-%m-%Y') as fecha");
        while (c.resultado.next()) {
        t_fecha.setText(c.resultado.getString("fecha"));
            }
            } catch (Exception ex) {
            javax.swing.JOptionPane.showMessageDialog(null, ex.getMessage());
            }
            }
private void  comparar_hora() {

try {

   DateFormat dateFormat = new SimpleDateFormat("HH:mm");
   String horaDate1=t_hora_inicio.getText();
   String horaDate2=t_hora_final.getText();
   Date horaIni = dateFormat.parse(horaDate1);
   Date horaFin = dateFormat.parse(horaDate2);

   SimpleDateFormat formateador = new SimpleDateFormat("dd-MM-yyyy");
   String fechaDate1=t_fecha.getText();
   String fechaDate2=t_fecha_final.getText();
   Date fecha = formateador.parse(fechaDate1);
   Date fechafinal = formateador.parse(fechaDate2);
if (fecha.equals(fechafinal) ) {
if (horaIni.compareTo(horaFin) < 0)
{
this.t_hora_final.setEnabled(false);
this.t_hora_inicio.setEnabled(false);
this.t_ci_conductor.setEnabled(true);
this.t_ci_conductor.requestFocus();
}
else
{
JOptionPane.showMessageDialog(null, "la hora final no debe ser mayor a la hora inicio");
}
}
else
{
this.t_ci_conductor.setEnabled(true);
this.t_hora_final.setEnabled(false);
this.t_hora_inicio.setEnabled(false);
this.t_ci_conductor.requestFocus();
}
} catch (Exception ex)
{
}
}


private void buscar_conductor() {
try
{
conn.sentencia = conn.conexion.createStatement();
conn.resultado = conn.sentencia.executeQuery("SELECT func_ci,func_cod,func_nom,func_ape,func_dir,func_tel FROM funcionario WHERE func_ci="+this.t_ci_conductor.getText());
//
        if(conn.resultado.next())//si encontro
        {
        this.t_ci_conductor.setText(conn.resultado.getString("func_ci"));
   this.t_cod_conductor.setText(conn.resultado.getString("func_cod"));
   this.t_conductor_nombre.setText(conn.resultado.getString("func_nom"));
   this.t_conductor_apellido.setText(conn.resultado.getString("func_ape"));
   this.t_conductor_direccion.setText(conn.resultado.getString("func_dir"));
   this.t_conductor_telefono.setText(conn.resultado.getString("func_tel"));
          this.t_nro_vehiculo.setEnabled(true);
          this.t_nro_vehiculo.requestFocus();

      if(t_ci_conductor.getText().equals("") ||t_ci_conductor.getText().trim().length()==0 ){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
         this.t_ci_conductor.setEnabled(true);
         this.t_ci_conductor.requestFocus();
        }
           }
       else//no encontro
        {
       JOptionPane.showMessageDialog(null,"LA CEDULA DE ID DEL CONDUCTOR NO EXISTE", "MENSAJE",
           JOptionPane.INFORMATION_MESSAGE);
           this.t_ci_conductor.setEnabled(true);
           this.t_ci_conductor.requestFocus();
        }
 	}
	catch (SQLException exceptionSql)
	{
//	JOptionPane.showMessageDialog(null, exceptionSql.getMessage(), "no debe esta vacio", JOptionPane.ERROR_MESSAGE);
	}
        }

private void   buscar_vehiculo() {
try
{
conn.sentencia = conn.conexion.createStatement();
conn.resultado = conn.sentencia.executeQuery("SELECT v.vehi_cod,v.nro_vehi,ma.mar_desc,v.modelo,v.chapa,v.chasis  FROM vehiculo v, marcas ma WHERE ma.mar_cod=v.mar_cod AND ma.mar_tipo='para vehiculo' AND v.nro_vehi="+this.t_nro_vehiculo.getText());

        if(conn.resultado.next())//si encontro
        {
          this.t_nro_vehiculo.setText(conn.resultado.getString("nro_vehi"));
          this.t_codigo_vehiculo.setText(conn.resultado.getString("vehi_cod"));
          this.t_vehiculo_marca.setText(conn.resultado.getString("mar_desc"));
          this.t_vehiculo_modelo.setText(conn.resultado.getString("modelo"));
          this.t_vehiculo_chapa.setText(conn.resultado.getString("chapa"));
          this.t_vehiculo_chasis.setText(conn.resultado.getString("chasis"));



        if(this.combo_motivo.getSelectedItem().equals("1-por traslado"))
        {
          this.t_cod_producto.setEnabled(true);
          this.t_cod_producto.requestFocus();
        }
        if(this.combo_motivo.getSelectedItem().equals("2-por compras"))
        {
//          this.t_numero_factura.setEnabled(true);
//          this.t_numero_factura.requestFocus();
            this.t_numero_factura.setEnabled(true);
             this.t_numero_factura.requestFocus();
        }
         if(this.combo_motivo.getSelectedItem().equals("3-por envio"))
        {
          this.t_cod_producto.setEnabled(true);
          this.t_cod_producto.requestFocus();
        }





      if(t_nro_vehiculo.getText().equals("") ||t_nro_vehiculo.getText().trim().length()==0 ){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
         this.t_nro_vehiculo.setEnabled(true);
         this.t_nro_vehiculo.requestFocus();
        }
        }
       else//no encontro
        {
              JOptionPane.showMessageDialog(null,"CODIGO DE VEHICULO NO EXISTE", "MENSAJE",
           JOptionPane.INFORMATION_MESSAGE);

           this.t_nro_vehiculo.setEnabled(true);
           this.t_nro_vehiculo.requestFocus();
        }
 	}
	catch (SQLException exceptionSql)
	{
	}
        }

private void buscar_producto() {
try
{
conn.sentencia = conn.conexion.createStatement();
conn.resultado = conn.sentencia.executeQuery("SELECT p.prd_cod,p.prd_nom, ma.mar_desc,g.grup_descri, pe.presen_des,ti.tip_prd_dec FROM grupo g,producto p, tipo_producto ti,marcas ma, presentacion pe WHERE g.grup_cod=p.grup_cod AND  ma.mar_cod=p.mar_cod AND p.presen_cod=pe.presen_cod AND ti.tip_prd_cod=p.tip_prd_cod AND p.prd_cod="+this.t_cod_producto.getText());

        if(conn.resultado.next())//si encontro
        {
          this.t_cod_producto.setText(conn.resultado.getString("prd_cod"));
          this.t_producto.setText(conn.resultado.getString("prd_nom"));
          this.t_marca.setText(conn.resultado.getString("mar_desc"));
          this.t_presentacion.setText(conn.resultado.getString("presen_des"));
          this.t_tipo.setText(conn.resultado.getString("tip_prd_dec"));
          this.t_grupo.setText(conn.resultado.getString("grup_descri"));
          this.t_cod_deposito.setEnabled(true);
          this.t_cod_deposito.requestFocus();
     if(t_cod_producto.getText().equals("") ||t_cod_producto.getText().trim().length()==0 )
     {
         JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
         this.t_cod_producto.setEnabled(true);
         this.t_cod_producto.requestFocus();
        }
        }
       else//no encontro
        {
     JOptionPane.showMessageDialog(null,"NO EXISTE EL PRODUCTO", "MENSAJE",
     JOptionPane.INFORMATION_MESSAGE);
      this.t_cod_producto.setEnabled(true);
      this.t_cod_producto.requestFocus();
        }
 	}
	catch (SQLException exceptionSql)
	{
//	JOptionPane.showMessageDialog(null, exceptionSql.getMessage(), "ERROR DE CONEXION CON LA BASE DE DATOS", JOptionPane.ERROR_MESSAGE);
	}
        }


private void buscar_deposito() {
try
{
conn.sentencia = conn.conexion.createStatement();
conn.resultado = conn.sentencia.executeQuery("SELECT depo_cod,depo_desc FROM deposito WHERE depo_cod="+this.t_cod_deposito.getText());

        if(conn.resultado.next())//si encontro
        {
          this.t_cod_deposito.setText(conn.resultado.getString("depo_cod"));
          this.t_deposito.setText(conn.resultado.getString("depo_desc"));

          this.t_cantidad.setEnabled(true);
          this.t_cantidad.requestFocus();

         if(t_cod_deposito.getText().equals("") ||t_cod_deposito.getText().trim().length()==0 ){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);
         this.t_cod_deposito.setEnabled(true);
         this.t_cod_deposito.requestFocus();
        }
           }
       else//no encontro
        {
        JOptionPane.showMessageDialog(null,"NO EXISTE  EL DEPOSITO", "MENSAJE",
        JOptionPane.INFORMATION_MESSAGE);
        this.t_cod_deposito.setEnabled(true);
        this.t_cod_deposito.requestFocus();
        }
 	}
	catch (SQLException exceptionSql)
	{
//	JOptionPane.showMessageDialog(null, exceptionSql.getMessage(), "ERROR DE CONEXION CON LA BASE DE DATOS", JOptionPane.ERROR_MESSAGE);
	}
        }




private void tirar_grilla() {
try {
   do{
   c++;
      DefaultTableModel dt;
      dt = (DefaultTableModel) tabla.getModel();
      String campos2[] = new String[]{String.valueOf(c),t_cod_producto.getText(), t_producto.getText(), t_tipo.getText(), t_presentacion.getText(), t_marca.getText(), t_grupo.getText(), t_cantidad.getText(),t_cod_deposito.getText()};
      cursor.addRow(campos2);

   }while(conn.resultado.next());
   } catch (Exception e) {
   JOptionPane.showMessageDialog(this, "ERROR" + e, "AVISO", JOptionPane.INFORMATION_MESSAGE);
   }
          t_cantidad.setEnabled(false);
          t_cantidad.setText("");
          t_cod_producto.setText("");
          t_cod_producto.requestFocus();
          t_producto.setText("");
          t_marca.setText("");
          t_tipo.setText("");
          t_presentacion.setText("");
          t_grupo.setText("");
          t_cod_deposito.setText("");
          t_deposito.setText("");
          t_cod_deposito.setEnabled(false);
          t_cod_producto.setEnabled(true);
          b_grabar.setEnabled(true);


     }

private void buscar_detalle_factura(){

try{

     conn.sentencia = conn.conexion.createStatement();
     conn.resultado = conn.sentencia.executeQuery("SELECT * FROM cabecera_reg_fact r,det_reg_fact d WHERE r.rg_fac_cod=d.rg_fac_cod AND r.estado= 'pendiente' AND r.rg_fac_cod=" + t_numero_factura.getText());
     boolean encontro = conn.resultado.next();
     if (encontro==true)//encontrog
            {

//        this.t_numero_factura.setEnabled(false);
        this.b_grabar.setEnabled(true);
        this.b_grabar.requestFocus();
 
        ver_conex conn = new ver_conex();
        conn.sentencia = conn.conexion.createStatement();
        conn.resultado = conn.sentencia.executeQuery("SELECT r.depo_cod,d.prd_cod,d.catidad,po.prd_nom,ti.tip_prd_dec,pe.presen_des,ma.mar_desc,g.grup_descri FROM grupo g, det_reg_fact d,cabecera_reg_fact r,producto po,presentacion pe,marcas ma,tipo_producto ti WHERE g.grup_cod=po.grup_cod  AND po.prd_cod=d.prd_cod  AND ti.tip_prd_cod=po.tip_prd_cod AND pe.presen_cod=po.presen_cod AND ma.mar_cod=po.mar_cod AND r.rg_fac_cod=d.rg_fac_cod AND d.rg_fac_cod=" + t_numero_factura.getText());



 
               while(conn.resultado.next())
         {
   do{
   c++;
           conn.sentencia = conn.conexion.createStatement();
           String registro[] = new String[] {String.valueOf(c),conn.resultado.getString("prd_cod"),conn.resultado.getString("prd_nom"),conn.resultado.getString("tip_prd_dec"),conn.resultado.getString("presen_des"),conn.resultado.getString("mar_desc"),conn.resultado.getString("grup_descri"),conn.resultado.getString("catidad"),conn.resultado.getString("depo_cod")};
           cursor.addRow(registro);

            }while(conn.resultado.next());


        }

//////////////////////////////////////////////////////////////////////////

 if(t_numero_factura.getText().equals("") ||t_numero_factura.getText().trim().length()==0 ){
        JOptionPane.showMessageDialog(null,"EL CAMPO NO PUEDE ESTAR VACIO","AVISO",JOptionPane.ERROR_MESSAGE);

         this.t_numero_factura.setEnabled(true);
         this.t_numero_factura.requestFocus();
        }

        }
     else{
     JOptionPane.showMessageDialog(null, " NO EXISTE LA FACTURA COMPRA/ REALIZAE UNO Y LUEGO VUELVA A INTENTARLO", "ATENCION", JOptionPane.ERROR_MESSAGE);
     this.t_numero_factura.setEnabled(true);
     this.t_numero_factura.requestFocus();
         }

 conn.sentencia = conn.conexion.createStatement();
 conn.resultado = conn.sentencia.executeQuery("SELECT * FROM det_reg_fact d, cabecera_reg_fact r WHERE r.estado='Anulado' AND  r.rg_fac_cod=d.rg_fac_cod AND d.rg_fac_cod=" + t_numero_factura.getText());

     boolean encontro3 = conn.resultado.next();
     if (encontro3==true)//encontrog
            {
          JOptionPane.showMessageDialog(null, "LA FACTURA COMPRA ESTA ANULADA", "ATENCION", JOptionPane.ERROR_MESSAGE);
     this.t_numero_factura.setEnabled(true);
     this.t_numero_factura.requestFocus();
     }

 } catch(SQLException e){
 }
 }









  private void hora_final() {
        try {
            ver_conex conn = new ver_conex();
            conn.sentencia = conn.conexion.createStatement();
            conn.resultado = conn.sentencia.executeQuery("select curtime() as hora");
            conn.resultado.next();
            t_hora_final.setText(conn.resultado.getString("hora"));
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Error" + e, "Aviso", JOptionPane.INFORMATION_MESSAGE);
        }
        }
    private void hora_inicio() {
        try {
            ver_conex conn = new ver_conex();
            conn.sentencia = conn.conexion.createStatement();
            conn.resultado = conn.sentencia.executeQuery("select curtime() as horas");
            conn.resultado.next();
            t_hora_inicio.setText(conn.resultado.getString("horas"));
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Error" + e, "Aviso", JOptionPane.INFORMATION_MESSAGE);
        }
        }


private void validarGrilla(){
    int tabla2= tabla.getRowCount();
    if(tabla2==0)
    {
       JOptionPane.showMessageDialog(null,"CARGAR GRILLA PARA CONTINUAR","AVISO",JOptionPane.INFORMATION_MESSAGE);
       t_numero_remision.requestFocus();
    }
    else
    {
      grabar();
    }
    }
private void grabar()
{
    try
    {

String f=t_fecha_inicio.getText();
String dd=f.substring(0,2);
String mm=f.substring(3,5);
String aa=f.substring(6,10);
String fecha_inicio=aa+"/"+mm+"/"+dd;
DateFormat df=new SimpleDateFormat(fecha_inicio);

String f2=t_fecha_final.getText();
String ddd=f2.substring(0,2);
String mmm=f2.substring(3,5);
String aaa=f2.substring(6,10);
String fecha_final=aaa+"/"+mmm+"/"+ddd;
DateFormat df2=new SimpleDateFormat(fecha_final);

String f3=t_fecha.getText();
String ddd3=f3.substring(0,2);
String mmm3=f3.substring(3,5);
String aaa3=f3.substring(6,10);
String fecha_hoy=aaa3+"/"+mmm3+"/"+ddd3;
DateFormat df3=new SimpleDateFormat(fecha_hoy);

String SQL = null;

if(operacion.equals("nuevo")){

  if(this.combo_motivo.getSelectedItem().equals("1-por traslado"))
    {
    {
    SQL = "INSERT INTO nota_remision(cod_remi,func_cod,suc_cod,vehi_cod,mot_cod,fecha_salida,fecha_entreg,fecha,hora_inicio,estado,hora_final,destino) VALUES ("+t_numero_remision.getText()+","+t_cod_conductor.getText()+","+t_cod_sucursal.getText()+","+t_codigo_vehiculo.getText()+",substring_index('"+combo_motivo.getSelectedItem()+"','-',1),'"+fecha_final+"','"+fecha_inicio+"','"+fecha_hoy+"','"+t_hora_inicio.getText()+"','pendiente','"+t_hora_final.getText()+"','"+t_destino.getText()+"')";
                                                                   
    }
     ver_conex c= new ver_conex();
     c.sentencia= c.conexion.createStatement();
     c.sentencia.executeUpdate(SQL);
     for (int fila = 0; fila < tabla.getRowCount(); fila++)
     {
     c.sentencia = c.conexion.createStatement();
     c.sentencia.executeUpdate("INSERT INTO detalle_remision(cod_remi,prd_cod,item,cantidad,depo_cod) VALUES ("+t_numero_remision.getText()+","+tabla.getValueAt(fila,1)+","+tabla.getValueAt(fila,0)+","+tabla.getValueAt(fila,7)+",'"+tabla.getValueAt(fila,8)+"')");

     }
     restar_stock();
     }
   if(this.combo_motivo.getSelectedItem().equals("2-por compras"))
   {
   {
  SQL = "INSERT INTO nota_remision(cod_remi,func_cod,suc_cod,vehi_cod,mot_cod,fecha_salida,fecha_entreg,fecha,hora_inicio,estado,hora_final,destino) VALUES ("+t_numero_remision.getText()+","+t_cod_conductor.getText()+","+t_cod_sucursal.getText()+","+t_codigo_vehiculo.getText()+",substring_index('"+combo_motivo.getSelectedItem()+"','-',1),'"+fecha_final+"','"+fecha_inicio+"','"+fecha_hoy+"','"+t_hora_inicio.getText()+"','pendiente','"+t_hora_final.getText()+"','"+t_destino.getText()+"')";

   }
    ver_conex c= new ver_conex();
    c.sentencia= c.conexion.createStatement();
    c.sentencia.executeUpdate(SQL);
    for (int fila = 0; fila < tabla.getRowCount(); fila++)
    {
    c.sentencia = c.conexion.createStatement();
   c.sentencia.executeUpdate("INSERT INTO detalle_remision(cod_remi,prd_cod,item,cantidad,depo_cod) VALUES ("+t_numero_remision.getText()+","+tabla.getValueAt(fila,1)+","+tabla.getValueAt(fila,0)+","+tabla.getValueAt(fila,7)+",'"+tabla.getValueAt(fila,8)+"')");

    }
    }
 if(this.combo_motivo.getSelectedItem().equals("3-por envio"))
 {
 {
  SQL = "INSERT INTO nota_remision(cod_remi,func_cod,suc_cod,vehi_cod,mot_cod,fecha_salida,fecha_entreg,fecha,hora_inicio,estado,hora_final,destino) VALUES ("+t_numero_remision.getText()+","+t_cod_conductor.getText()+","+t_cod_sucursal.getText()+","+t_codigo_vehiculo.getText()+",substring_index('"+combo_motivo.getSelectedItem()+"','-',1),'"+fecha_final+"','"+fecha_inicio+"','"+fecha_hoy+"','"+t_hora_inicio.getText()+"','pendiente','"+t_hora_final.getText()+"','"+t_destino.getText()+"')";

 }
    ver_conex c= new ver_conex();
    c.sentencia= c.conexion.createStatement();
    c.sentencia.executeUpdate(SQL);

   for (int fila = 0; fila < tabla.getRowCount(); fila++)
   {
   c.sentencia = c.conexion.createStatement();
   c.sentencia.executeUpdate("INSERT INTO detalle_remision(cod_remi,prd_cod,item,cantidad,depo_cod) VALUES ("+t_numero_remision.getText()+","+tabla.getValueAt(fila,1)+","+tabla.getValueAt(fila,0)+","+tabla.getValueAt(fila,7)+",'"+tabla.getValueAt(fila,8)+"')");
   }
    sumar_stock();
   }
            
     
    JOptionPane.showMessageDialog(this,"LA NOTA DE REMISION FUE CREADA Y GUARDADA","OPERACION",JOptionPane.INFORMATION_MESSAGE);
    genreporte();

    }
    }
    catch(Exception e)
    {
    }
    try{
    if(operacion.equals("anular"))
    {
    anular();
    }
//    if (operacion.equals("editar"))
//    {
//     //editar();
//    }
    }
    catch(Exception e)
    {
        JOptionPane.showMessageDialog(this,"ERROR DE CONEXION33"+e,"AVISO",JOptionPane.INFORMATION_MESSAGE);
    }
    }


private void anular()
{
  int res = javax.swing.JOptionPane.showOptionDialog(this,
  "DESEA ANULAR LA  NOTA DE REMISION?"," NOTA DE REMISION",javax.swing.JOptionPane.OK_CANCEL_OPTION,
   javax.swing.JOptionPane.QUESTION_MESSAGE,null,
   new Object[] { "Si", "No"},"Si");
     if (res == javax.swing.JOptionPane.OK_OPTION)
        {
    try {

        if(this.combo_motivo.getSelectedItem().equals("por traslado")) //lo que se va trasladar a otro sucursal
        {
        ver_conex conn= new ver_conex();
        conn.sentencia = conn.conexion.createStatement();
        conn.sentencia.executeUpdate("UPDATE nota_remision SET estado='Anulado' WHERE cod_remi = " + t_numero_remision.getText());
        sumar_stock();
        }
        if(this.combo_motivo.getSelectedItem().equals("por compras")) //se registra la nota que da el proveedor
        {
        ver_conex conn= new ver_conex();
        conn.sentencia = conn.conexion.createStatement();
        conn.sentencia.executeUpdate("UPDATE nota_remision SET estado='Anulado' WHERE cod_remi = " + t_numero_remision.getText());

        }
         if(this.combo_motivo.getSelectedItem().equals("por envio")) ///lo que se va a enviar
        {
        ver_conex conn= new ver_conex();
        conn.sentencia = conn.conexion.createStatement();
        conn.sentencia.executeUpdate("UPDATE nota_remision SET estado='Anulado' WHERE cod_remi = " + t_numero_remision.getText());
        restar_stock();
         }

        JOptionPane.showMessageDialog(null, "LA NOTA DE REMISION FUE ANULADA", "AVISO", JOptionPane.INFORMATION_MESSAGE);

        }catch (SQLException ex) {
        Logger.getLogger(nota_remision.class.getName()).log(Level.SEVERE, null, ex);
        }
        } else
        {
        JOptionPane.showMessageDialog(null, "OPERACIN CANCELADA", "ATENCION", JOptionPane.ERROR_MESSAGE);
        }
        limpiar_grilla();
        hab_botones();
        des_text();
        clear_text();
        }

private void buscar_nota_remision(){

     try{

     conn.sentencia = conn.conexion.createStatement();
     conn.resultado = conn.sentencia.executeQuery("SELECT r.cod_remi,r.fecha,r.fecha_entreg,r.fecha_salida,r.hora_inicio,r.hora_final,r.vehi_cod,v.nro_vehi,m.mar_desc,v.modelo,v.chapa,v.chasis,r.func_cod,f.func_ci,f.func_nom,f.func_ape,f.func_dir,f.func_tel,mo.mot_desc,r.destino FROM nota_remision r,funcionario f,motivos mo, marcas m, vehiculo v WHERE mo.mot_cod=r.mot_cod AND f.func_cod=r.func_cod AND v.vehi_cod=r.vehi_cod AND m.mar_cod=v.mar_cod AND  r.estado='pendiente' AND  r.cod_remi=" + t_numero_remision.getText());
     boolean encontro = conn.resultado.next();
     if (encontro==true)//encontrog
            {

        this.t_numero_remision.setText(conn.resultado.getString("cod_remi"));
        this.t_fecha.setText(conn.resultado.getString("fecha"));
        this.t_fecha_inicio.setText(conn.resultado.getString("fecha_entreg"));
        this.t_fecha_final.setText(conn.resultado.getString("fecha_salida"));
        this.t_hora_inicio.setText(conn.resultado.getString("hora_inicio"));
        this.t_hora_final.setText(conn.resultado.getString("hora_final"));
        this.t_codigo_vehiculo.setText(conn.resultado.getString("vehi_cod"));
        this.t_nro_vehiculo.setText(conn.resultado.getString("nro_vehi"));
        this.t_vehiculo_marca.setText(conn.resultado.getString("mar_desc"));
        this.t_vehiculo_modelo.setText(conn.resultado.getString("modelo"));
        this.t_vehiculo_chapa.setText(conn.resultado.getString("chapa"));
        this.t_vehiculo_chasis.setText(conn.resultado.getString("chasis"));
        this.t_destino.setText(conn.resultado.getString("destino"));
        this.combo_motivo.addItem(conn.resultado.getString("mot_desc"));
        this.t_cod_conductor.setText(conn.resultado.getString("func_cod"));
        this.t_conductor_nombre.setText(conn.resultado.getString("func_nom"));
        this.t_conductor_apellido.setText(conn.resultado.getString("func_ape"));
        this.t_conductor_direccion.setText(conn.resultado.getString("func_dir"));
        this.t_conductor_telefono.setText(conn.resultado.getString("func_tel"));
        this.t_ci_conductor.setText(conn.resultado.getString("func_ci"));
      
ver_conex conn = new ver_conex();
conn.sentencia = conn.conexion.createStatement();
conn.resultado = conn.sentencia.executeQuery("SELECT r.cod_remi,d.depo_cod,d.prd_cod,d.item,d.cantidad,po.prd_nom,ti.tip_prd_dec,pe.presen_des,ma.mar_desc,g.grup_descri FROM grupo g, detalle_remision d,nota_remision r,producto po,presentacion pe,marcas ma,tipo_producto ti WHERE g.grup_cod=po.grup_cod AND d.cod_remi=r.cod_remi AND po.prd_cod=d.prd_cod AND ti.tip_prd_cod=po.tip_prd_cod  AND pe.presen_cod=po.presen_cod AND ma.mar_cod=po.mar_cod AND d.cod_remi="+t_numero_remision.getText()); //OJO LE PASO LA SENTENCIA=" + t_numero_receta.getText());
        while(conn.resultado.next())
         {

           conn.sentencia = conn.conexion.createStatement();
           String registro[] = new String[] {conn.resultado.getString("item"),conn.resultado.getString("prd_cod"),conn.resultado.getString("prd_nom"),conn.resultado.getString("tip_prd_dec"),conn.resultado.getString("presen_des"),conn.resultado.getString("mar_desc"),conn.resultado.getString("grup_descri"),conn.resultado.getString("cantidad"),conn.resultado.getString("depo_cod")};
           cursor.addRow(registro);

          }

//////////            if(operacion.equals("editar"))
//////////            {
//////////            this.t_numero_remision.setEnabled(false) ;
//////////            this.t_destino.setEnabled(true) ;
//////////            this.t_destino.requestFocus();
//////////             }

            if(operacion.equals("anular"))
            {
            this.t_numero_remision.setEnabled(false) ;
            this.b_grabar.setEnabled(true);
            this.b_grabar.requestFocus();

                   }
                   }
          else{
          JOptionPane.showMessageDialog(null, "NO EXISTE LA NOTA DE REMISION CON ESTE NUMERO", "ATENCION", JOptionPane.ERROR_MESSAGE);
          this.t_numero_remision.setEnabled(true);
          this.t_numero_remision.requestFocus();
               }
     ver_conex conn2 = new ver_conex();
     conn2.sentencia = conn2.conexion.createStatement();
     conn2.resultado = conn2.sentencia.executeQuery("SELECT * FROM nota_remision WHERE  estado='Anulado' AND  cod_remi=" + t_numero_remision.getText());
     boolean encontro2 = conn2.resultado.next();
     if (encontro2==true)//encontrog
            {
         JOptionPane.showMessageDialog(null, "ESTA RECETA ESTA ANULADA", "ATENCION", JOptionPane.ERROR_MESSAGE);
          this.t_numero_remision.setEnabled(true);
          this.t_numero_remision.requestFocus();
             }

               } catch(SQLException e){
              // JOptionPane.showMessageDialog(null,e.getMessage(), "ERROR DE CONEXION", JOptionPane.ERROR_MESSAGE);
               }
               }


private void sumar_stock(){
  int cantida=0;
  try {
       for(int fila=0;fila < tabla.getRowCount();fila++){
       ver_conex c= new ver_conex();
       c.sentencia= c.conexion.createStatement();
       c.resultado = c.sentencia.executeQuery("SELECT * FROM stock WHERE depo_cod="+tabla.getValueAt(fila,8)+" and prd_cod="+tabla.getValueAt(fila,1));
       if (c.resultado.next()){
       cantida=c.resultado.getInt("stock_cant");
       c.sentencia.executeUpdate("UPDATE stock SET stock_cant="+cantida+"+"+tabla.getValueAt(fila,7)+" WHERE depo_cod="+tabla.getValueAt(fila,8)+" and prd_cod="+tabla.getValueAt(fila,1));
     }
     }
     } catch (SQLException ex)
     {
     }
     }

//////////resta de stock/////////////

private void restar_stock(){
     int cantida=0;
try {
       for(int fila=0;fila < tabla.getRowCount();fila++){
       ver_conex c= new ver_conex();
       c.sentencia= c.conexion.createStatement();
       c.resultado = c.sentencia.executeQuery("SELECT * FROM stock WHERE depo_cod="+tabla.getValueAt(fila,8)+" and prd_cod="+tabla.getValueAt(fila,1));
       if (c.resultado.next()){
       cantida=c.resultado.getInt("stock_cant");
       c.sentencia.executeUpdate("UPDATE stock SET stock_cant="+cantida+"-"+tabla.getValueAt(fila,7)+" WHERE depo_cod="+tabla.getValueAt(fila,8)+" and prd_cod="+tabla.getValueAt(fila,1));
     }
     }
     } catch (SQLException ex)
     {
     }
     }


public void genreporte() //throws JRException, Exception
    {
        try //throws JRException, Exception
        {
            conn.sentencia = conn.conexion.createStatement();
            conn.resultado = conn.sentencia.executeQuery("SELECT r.cod_remi,r.fecha,su.suc_desc,r.fecha_entreg,r.fecha_salida,r.hora_inicio,r.hora_final,r.vehi_cod,v.nro_vehi,m.mar_desc,v.modelo,v.chapa,v.chasis,r.func_cod,f.func_ci,f.func_nom,f.func_ape,f.func_dir,f.func_tel,mo.mot_desc,r.destino,d.depo_cod,d.prd_cod,d.cantidad,po.prd_nom,ti.tip_prd_dec,pe.presen_des,ma.mar_desc,g.grup_descri FROM sucursal su,nota_remision r,detalle_remision d,funcionario f,motivos mo, marcas m, vehiculo v,grupo g,producto po,presentacion pe,marcas ma,tipo_producto ti  WHERE mo.mot_cod=r.mot_cod AND f.func_cod=r.func_cod AND v.vehi_cod=r.vehi_cod  AND su.suc_cod=r.suc_cod AND r.cod_remi=d.cod_remi AND m.mar_cod=v.mar_cod AND d.prd_cod=po.prd_cod AND g.grup_cod=po.grup_cod  AND po.prd_cod=d.prd_cod AND ti.tip_prd_cod=po.tip_prd_cod  AND pe.presen_cod=po.presen_cod AND ma.mar_cod=po.mar_cod AND d.cod_remi="+t_numero_remision.getText()); //OJO LE PASO LA SENTENCIA
            JRResultSetDataSource jrRS = new JRResultSetDataSource(conn.resultado);

            HashMap parameters = new HashMap();
            URL urlMaestro = getClass().getClassLoader().getResource("impresion/nota_remision.jasper");

            // Cargamos el reporte
            JasperReport masterReport = null;
            masterReport = (JasperReport) JRLoader.loadObject(urlMaestro);
            JasperPrint masterPrint = null;
            masterPrint = JasperFillManager.fillReport(masterReport, parameters, jrRS);
            JasperViewer ventana = new JasperViewer(masterPrint, false);
            ventana.setTitle("VISTA PREVIA");
            ventana.setVisible(true);

        } catch (JRException ex) {
            Logger.getLogger(nota_remision.class.getName()).log(Level.SEVERE, null, ex);
        } catch (SQLException ex) {
            Logger.getLogger(nota_remision.class.getName()).log(Level.SEVERE, null, ex);
        }
    }




}
